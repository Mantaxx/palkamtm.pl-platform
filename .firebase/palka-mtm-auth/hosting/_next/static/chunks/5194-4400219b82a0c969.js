"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5194],{5077:(e,t,s)=>{s.d(t,{y:()=>d});var r=s(1975),n=s(1983),i=s(5849),a=s(2043),o=s(1450),l=s(5927),c=s(2115);function d(){var e=(0,l.A)().user,t=(0,a._)((0,c.useState)({isProfileVerified:!1,isPhoneVerified:!1,isFullyVerified:!1,missingFields:[],canCreateAuctions:!1,canBid:!1,canAddReferences:!1,canAddPhotos:!1}),2),s=t[0],d=t[1],u=(0,a._)((0,c.useState)(!0),2),x=u[0],m=u[1];return(0,c.useEffect)(function(){(0,r._)(function(){var t,s,r,n,i,a,l,c,u;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(!e)return d({isProfileVerified:!1,isPhoneVerified:!1,isFullyVerified:!1,missingFields:[],canCreateAuctions:!1,canBid:!1,canAddReferences:!1,canAddPhotos:!1}),m(!1),[2];o.label=1;case 1:return o.trys.push([1,7,8,9]),[4,e.getIdToken()];case 2:return t=o.sent(),[4,fetch("/api/profile",{headers:{Authorization:"Bearer ".concat(t)}})];case 3:if(!(s=o.sent()).ok)return[3,5];return[4,s.json()];case 4:return n="ADMIN"===(r=o.sent().user).role,i=[],!n&&(r.firstName||i.push("Imię"),r.lastName||i.push("Nazwisko"),r.address||i.push("Adres"),r.city||i.push("Miasto"),r.postalCode||i.push("Kod pocztowy"),r.phoneNumber||i.push("Numer telefonu")),a=n||r.isProfileVerified||0===i.length,l=n||r.isPhoneVerified,c=n||a&&l,d({isProfileVerified:a,isPhoneVerified:l,isFullyVerified:c,missingFields:i,canCreateAuctions:c,canBid:c,canAddReferences:c,canAddPhotos:c}),[3,6];case 5:u=[],e.displayName||u.push("Imię i nazwisko"),e.phoneNumber||u.push("Numer telefonu"),d({isProfileVerified:!1,isPhoneVerified:!!e.phoneNumber,isFullyVerified:!1,missingFields:u,canCreateAuctions:!1,canBid:!1,canAddReferences:!1,canAddPhotos:!1}),o.label=6;case 6:return[3,9];case 7:return console.error("Błąd sprawdzania weryfikacji profilu:",o.sent()),d({isProfileVerified:!1,isPhoneVerified:!1,isFullyVerified:!1,missingFields:[],canCreateAuctions:!1,canBid:!1,canAddReferences:!1,canAddPhotos:!1}),[3,9];case 8:return m(!1),[7];case 9:return[2]}})})()},[e]),(0,i._)((0,n._)({},s),{loading:x,refresh:function(){m(!0),d(function(e){return(0,n._)({},e)})}})}},5194:(e,t,s)=>{s.d(t,{default:()=>S});var r=s(1975),n=s(1983),i=s(5849),a=s(2043),o=s(5377),l=s(1450),c=s(5155),d=s(1873),u=s(5229),x=s(6651),m=s(2115);function h(e){var t=e.value,s=e.onChange,n=e.onLocationSelect,i=e.placeholder,o=e.className,h=e.error,p=(0,a._)((0,m.useState)([]),2),b=p[0],f=p[1],g=(0,a._)((0,m.useState)(!1),2),j=g[0],y=g[1],v=(0,a._)((0,m.useState)(!1),2),w=v[0],N=v[1],k=(0,a._)((0,m.useState)(-1),2),z=k[0],_=k[1],P=(0,m.useRef)(null),A=(0,m.useRef)(null),C=(0,m.useRef)(),S=function(e){s(e.display_name),y(!1),f([]),n&&n(e)};(0,m.useEffect)(function(){var e=function(e){A.current&&!A.current.contains(e.target)&&P.current&&!P.current.contains(e.target)&&(y(!1),_(-1))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}},[]),(0,m.useEffect)(function(){return function(){C.current&&clearTimeout(C.current)}},[]);var F=function(e){var t=e.address,s=[];return t.city?s.push(t.city):t.town?s.push(t.town):t.village&&s.push(t.village),t.county&&s.push(t.county),t.state&&s.push(t.state),t.postcode&&s.push(t.postcode),t.country&&"Polska"!==t.country&&s.push(t.country),s.join(", ")},D=function(e){var t=e.address,s=[];return(t.city||t.town||t.village)&&s.push(t.city||t.town||t.village),t.county&&s.push(t.county),t.state&&s.push(t.state),t.postcode&&s.push(t.postcode),s.join(", ")};return(0,c.jsxs)("div",{className:"relative ".concat(void 0===o?"":o),children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,c.jsx)(d.A,{className:"h-4 w-4 text-gray-500"})}),(0,c.jsx)("input",{ref:P,type:"text",value:t,onChange:function(e){var t=e.target.value;console.log("\uD83D\uDCCD Input change:",t),s(t),C.current&&clearTimeout(C.current),C.current=setTimeout(function(){(0,r._)(function(){var e,s;return(0,l.YH)(this,function(r){switch(r.label){case 0:if(t.length<2)return f([]),y(!1),[2];N(!0),r.label=1;case 1:return r.trys.push([1,5,6,7]),[4,fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(t),"&countrycodes=pl&limit=10&addressdetails=1&extratags=1&namedetails=1"))];case 2:if(!(e=r.sent()).ok)return[3,4];return[4,e.json()];case 3:console.log("\uD83D\uDCCD Location suggestions:",s=r.sent()),f(s),y(s.length>0),_(-1),r.label=4;case 4:return[3,7];case 5:return console.error("Error fetching location suggestions:",r.sent()),f([]),y(!1),[3,7];case 6:return N(!1),[7];case 7:return[2]}})})()},300)},onKeyDown:function(e){if(j&&0!==b.length)switch(e.key){case"ArrowDown":e.preventDefault(),_(function(e){return e<b.length-1?e+1:e});break;case"ArrowUp":e.preventDefault(),_(function(e){return e>0?e-1:-1});break;case"Enter":e.preventDefault(),z>=0&&z<b.length&&S(b[z]);break;case"Escape":y(!1),_(-1)}},onFocus:function(){b.length>0&&y(!0)},className:"w-full pl-10 pr-10 py-2 bg-white/50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400 text-black placeholder-gray-500 ".concat(h?"border-red-500":""),placeholder:void 0===i?"Wpisz lokalizację...":i}),(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:w?(0,c.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):t?(0,c.jsx)("button",{type:"button",onClick:function(){s(""),y(!1),f([])},className:"text-gray-500 hover:text-black transition-colors",title:"Wyczyść lokalizację","aria-label":"Wyczyść lokalizację",children:(0,c.jsx)(u.A,{className:"h-4 w-4"})}):(0,c.jsx)(x.A,{className:"h-4 w-4 text-gray-500"})})]}),j&&b.length>0&&(0,c.jsx)("div",{ref:A,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:b.map(function(e,t){return(0,c.jsx)("div",{onClick:function(){return S(e)},className:"px-4 py-3 cursor-pointer transition-colors ".concat(t===z?"bg-gray-100 text-black":"text-gray-700 hover:bg-gray-50 hover:text-black"),children:(0,c.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,c.jsx)(d.A,{className:"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0"}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-black truncate",children:F(e)}),(0,c.jsx)("p",{className:"text-xs text-gray-500 truncate",children:D(e)})]})]})},"".concat(e.lat,"-").concat(e.lon))})}),h&&(0,c.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h})]})}var p=s(5927),b=s(5077),f=s(6942),g=s(8314),j=s(2196),y=s(890),v=s(9715),w=s(5239),N=s(2619),k=s.n(N),z=s(63),_=s(1636),P=s(2544),A=s(4879),C=A.Ik({category:A.k5(["Pigeon","Supplements","Accessories"],{required_error:"Wybierz kategorię"}),title:A.Yj().min(5,"Tytuł musi mieć co najmniej 5 znak\xf3w"),description:A.Yj().min(20,"Opis musi mieć co najmniej 20 znak\xf3w"),ringNumber:A.Yj().optional(),bloodline:A.Yj().optional(),sex:A.k5(["male","female"]).optional(),pedigreeFile:A.bz().optional(),eyeColor:A.Yj().optional(),featherColor:A.Yj().optional(),purpose:A.YO(A.Yj()).optional(),size:A.Yj().optional(),bodyStructure:A.Yj().optional(),vitality:A.Yj().optional(),colorDensity:A.Yj().optional(),length:A.Yj().optional(),endurance:A.Yj().optional(),startingPrice:A.ai().min(0,"Cena wywoławcza nie może być ujemna").optional(),buyNowPrice:A.ai().optional(),duration:A.ai().min(1).max(30),location:A.Yj().min(2,"Wybierz lokalizację z listy").optional()}).refine(function(e){return e.startingPrice||e.buyNowPrice},{message:"Musisz podać przynajmniej jedną cenę (wywoławczą lub Kup teraz)",path:["startingPrice"]});function S(e){var t,s=e.onSuccess,d=e.onCancel,x=e.showHeader,N=(0,p.A)(),A=N.user,S=N.loading,F=(0,b.y)(),D=F.canCreateAuctions,R=(F.isFullyVerified,F.missingFields),V=F.loading,B=(0,z.useRouter)(),T=(0,a._)((0,m.useState)([]),2),Y=T[0],E=T[1],I=(0,a._)((0,m.useState)([]),2),O=I[0],W=I[1],K=(0,a._)((0,m.useState)([]),2),U=K[0],L=K[1],M=(0,a._)((0,m.useState)(!1),2),Z=M[0],H=M[1],q=(0,a._)((0,m.useState)(null),2),G=q[0],J=q[1],Q=(0,a._)((0,m.useState)(!0),2),X=Q[0],$=Q[1],ee=(0,a._)((0,m.useState)(!1),2),et=ee[0],es=ee[1],er=(0,a._)((0,m.useState)(null),2),en=er[0],ei=er[1],ea=(0,P.mN)({resolver:(0,f.u)(C),mode:"onChange"}),eo=ea.register,el=ea.handleSubmit,ec=ea.watch,ed=ea.setValue,eu=ea.formState.errors,ex=ec("category"),em=function(e,t){var s=e.type.startsWith("video/")?"video":e.type.startsWith("image/")?"image":"document";return{id:Math.random().toString(36).substr(2,9),file:e,preview:URL.createObjectURL(e),type:s,category:t}},eh=(0,_.VB)({onDrop:function(e){var t=e.map(function(e){return em(e,"pigeon_images")});E(function(e){return(0,o._)(e).concat((0,o._)(t))})},accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxFiles:8}),ep=eh.getRootProps,eb=eh.getInputProps,ef=eh.isDragActive,eg=(0,_.VB)({onDrop:function(e){var t=e.map(function(e){return em(e,"videos")});W(function(e){return(0,o._)(e).concat((0,o._)(t))})},accept:{"video/*":[".mp4",".mov",".avi"]},maxFiles:3}),ej=eg.getRootProps,ey=eg.getInputProps,ev=eg.isDragActive,ew=(0,_.VB)({onDrop:function(e){var t=e.map(function(e){return em(e,"pedigree")});L(function(e){return(0,o._)(e).concat((0,o._)(t))})},accept:{"image/*":[".jpeg",".jpg",".png",".webp"],"application/pdf":[".pdf"]},maxFiles:2}),eN=ew.getRootProps,ek=ew.getInputProps,ez=ew.isDragActive,e_=function(e){E(function(t){return t.filter(function(t){return t.id!==e})})},eP=function(e){W(function(t){return t.filter(function(t){return t.id!==e})})},eA=function(e){L(function(t){return t.filter(function(t){return t.id!==e})})},eC=function(e){J(e)},eS=function(){J(null)};return S||V?(0,c.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,c.jsx)("p",{children:"Ładowanie..."})}):A?D?(0,c.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl border-2 border-white rounded-2xl shadow-[0_0_14px_3px_rgba(255,255,255,0.55)] max-h-[95vh] overflow-y-auto text-black relative",children:[(0,c.jsxs)("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[(0,c.jsx)("button",{onClick:function(){ed("title",""),ed("description",""),ed("category","Pigeon"),ed("ringNumber",""),ed("bloodline",""),ed("sex",void 0),ed("eyeColor",""),ed("featherColor",""),ed("purpose",[]),ed("startingPrice",void 0),ed("buyNowPrice",void 0),ed("location",""),ed("duration",7),ei(null)},className:"w-8 h-8 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center transition-colors",title:"Odśwież formularz",children:(0,c.jsx)(g.A,{className:"w-4 h-4"})}),(0,c.jsx)("button",{onClick:function(){d?d():B.push("/auctions")},className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors",title:"Zamknij",children:(0,c.jsx)(u.A,{className:"w-4 h-4"})})]}),(0,c.jsxs)("form",{onSubmit:el(function(e){return(0,r._)(function(){var t,r,i,a,o,c,d,u,x,m,h,p,b;return(0,l.YH)(this,function(l){switch(l.label){case 0:console.log("\uD83D\uDE80 ONSUBMIT STARTED!"),console.log("\uD83D\uDCDD Form data:",e),H(!0),l.label=1;case 1:if(l.trys.push([1,22,23,24]),t=[],r=[],i=[],!(Y.length>0))return[3,6];return(a=new FormData).append("type","image"),Y.forEach(function(e){a.append("files",e.file)}),[4,fetch("/api/upload",{method:"POST",body:a})];case 2:if(!(o=l.sent()).ok)return[3,4];return[4,o.json()];case 3:return t=l.sent().files||[],[3,6];case 4:return[4,o.json()];case 5:console.error("Błąd uploadu obraz\xf3w:",l.sent()),l.label=6;case 6:if(!(O.length>0))return[3,11];return(c=new FormData).append("type","video"),O.forEach(function(e){c.append("files",e.file)}),[4,fetch("/api/upload",{method:"POST",body:c})];case 7:if(!(d=l.sent()).ok)return[3,9];return[4,d.json()];case 8:return r=l.sent().files||[],[3,11];case 9:return[4,d.json()];case 10:console.error("Błąd uploadu film\xf3w:",l.sent()),l.label=11;case 11:if(!(U.length>0))return[3,16];return(u=new FormData).append("type","document"),U.forEach(function(e){u.append("files",e.file)}),[4,fetch("/api/upload",{method:"POST",body:u})];case 12:if(!(x=l.sent()).ok)return[3,14];return[4,x.json()];case 13:return i=l.sent().files||[],[3,16];case 14:return[4,x.json()];case 15:console.error("Błąd uploadu dokument\xf3w:",l.sent()),l.label=16;case 16:return h=new Date((m=new Date).getTime()+24*(e.duration||7)*36e5),[4,fetch("/api/auctions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,n._)({title:e.title,description:e.description,category:e.category,startingPrice:X&&e.startingPrice&&!isNaN(e.startingPrice)?e.startingPrice:0,buyNowPrice:et&&e.buyNowPrice&&!isNaN(e.buyNowPrice)?e.buyNowPrice:void 0,startTime:m.toISOString(),endTime:h.toISOString(),images:t,videos:r,documents:i,location:e.location||"Nie podano",locationData:en?{lat:parseFloat(en.lat),lon:parseFloat(en.lon),displayName:en.display_name,address:en.address}:null},"Pigeon"===e.category&&{pigeon:{ringNumber:e.ringNumber,bloodline:e.bloodline,sex:e.sex,eyeColor:e.eyeColor,featherColor:e.featherColor,purpose:e.purpose||[],size:e.size,bodyStructure:e.bodyStructure,vitality:e.vitality,colorDensity:e.colorDensity,length:e.length,endurance:e.endurance}}))})];case 17:if(!(p=l.sent()).ok)return[3,19];return[4,p.json()];case 18:return console.log("✅ Aukcja utworzona pomyślnie:",l.sent()),alert("✅ Aukcja została utworzona pomyślnie!"),s?s():(B.push("/auctions"),setTimeout(function(){window.location.reload()},100)),[3,21];case 19:return[4,p.json()];case 20:console.error("❌ Błąd API:",b=l.sent()),alert("❌ Wystąpił błąd podczas tworzenia aukcji: "+(b.message||"Nieznany błąd")),l.label=21;case 21:return[3,24];case 22:return console.error("❌ Błąd podczas tworzenia aukcji:",l.sent()),alert("❌ Wystąpił błąd podczas tworzenia aukcji"),[3,24];case 23:return H(!1),[7];case 24:return[2]}})})()}),className:"p-4",children:[(void 0===x||x)&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("h1",{className:"text-xl font-bold text-black mb-1",children:"Utw\xf3rz nową aukcję"}),(0,c.jsx)("p",{className:"text-black/90 text-sm",children:"Wypełnij wszystkie wymagane pola i opublikuj swoją aukcję"})]}),(0,c.jsx)("h2",{className:"text-sm font-semibold text-black mb-2",children:"Kategoria *"}),(0,c.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[{value:"Pigeon",label:"Gołąb Pocztowy",icon:"\uD83D\uDC26"},{value:"Supplements",label:"Suplementy",icon:"\uD83D\uDC8A"},{value:"Accessories",label:"Akcesoria",icon:"\uD83C\uDFE0"}].map(function(e){return(0,c.jsxs)("label",{className:"relative flex flex-col items-center p-2 border-2 rounded-lg cursor-pointer transition-colors ".concat(ex===e.value?"border-white bg-white/20":"border-white/30 bg-white/10 hover:border-white/50 hover:bg-white/15"),children:[(0,c.jsx)("input",(0,i._)((0,n._)({type:"radio",value:e.value},eo("category")),{className:"sr-only"})),(0,c.jsx)("span",{className:"text-xl mb-1",children:e.icon}),(0,c.jsx)("span",{className:"text-xs font-medium text-black",children:e.label})]},e.value)})}),eu.category&&(0,c.jsx)("p",{className:"text-red-600 text-xs mb-3",children:eu.category.message}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Tytuł aukcji *"}),(0,c.jsx)("input",(0,i._)((0,n._)({type:"text"},eo("title")),{className:"w-full px-3 py-2 bg-white/50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400 text-black placeholder-gray-500"})),eu.title&&(0,c.jsx)("p",{className:"text-red-600 text-sm mt-1",children:eu.title.message})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Lokalizacja *"}),(0,c.jsx)(h,{value:ec("location")||"",onChange:function(e){ed("location",e)},onLocationSelect:function(e){ei(e)},error:null==(t=eu.location)?void 0:t.message})]})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Opis *"}),(0,c.jsx)("textarea",(0,i._)((0,n._)({},eo("description")),{rows:2,className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"})),eu.description&&(0,c.jsx)("p",{className:"text-red-600 text-xs mt-1",children:eu.description.message})]}),"Pigeon"===ex&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Numer obrączki"}),(0,c.jsx)("input",(0,i._)((0,n._)({type:"text"},eo("ringNumber")),{className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"}))]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Linia krwi"}),(0,c.jsx)("input",(0,i._)((0,n._)({type:"text"},eo("bloodline")),{className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"}))]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Płeć"}),(0,c.jsxs)("select",(0,i._)((0,n._)({},eo("sex")),{className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,c.jsx)("option",{value:"",children:"Wybierz"}),(0,c.jsx)("option",{value:"male",children:"Samiec"}),(0,c.jsx)("option",{value:"female",children:"Samica"})]}))]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Kolor oczu"}),(0,c.jsxs)("select",(0,i._)((0,n._)({},eo("eyeColor")),{className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,c.jsx)("option",{value:"",children:"Wybierz"}),(0,c.jsx)("option",{value:"yellow",children:"Ż\xf3łte"}),(0,c.jsx)("option",{value:"red",children:"Czerwone"}),(0,c.jsx)("option",{value:"glass",children:"Szklane"}),(0,c.jsx)("option",{value:"mixed",children:"Mieszane"})]}))]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Kolor upierzenia"}),(0,c.jsxs)("select",(0,i._)((0,n._)({},eo("featherColor")),{className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,c.jsx)("option",{value:"",children:"Wybierz"}),(0,c.jsx)("option",{value:"speckled",children:"Nakrapiany"}),(0,c.jsx)("option",{value:"blue",children:"Niebieski"}),(0,c.jsx)("option",{value:"blue_white_flight",children:"Niebieski białolot"}),(0,c.jsx)("option",{value:"speckled_white_flight",children:"Nakrapiany białolot"}),(0,c.jsx)("option",{value:"red",children:"Czerwony"}),(0,c.jsx)("option",{value:"dun",children:"Płowy"}),(0,c.jsx)("option",{value:"dark",children:"Ciemny"}),(0,c.jsx)("option",{value:"mottled",children:"Pstry"})]}))]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Czas trwania aukcji"}),(0,c.jsxs)("select",(0,i._)((0,n._)({},eo("duration",{valueAsNumber:!0})),{className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,c.jsx)("option",{value:1,children:"1 dzień"}),(0,c.jsx)("option",{value:3,children:"3 dni"}),(0,c.jsx)("option",{value:7,children:"7 dni"}),(0,c.jsx)("option",{value:14,children:"14 dni"}),(0,c.jsx)("option",{value:30,children:"30 dni"})]}))]})]}),(0,c.jsxs)("div",{className:"mb-2",children:[(0,c.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Przeznaczenie"}),(0,c.jsx)("div",{className:"grid grid-cols-3 gap-1",children:["Kr\xf3tki dystans","Średni dystans","Długi dystans"].map(function(e){return(0,c.jsxs)("label",{className:"flex items-center space-x-1 text-black text-xs",children:[(0,c.jsx)("input",(0,i._)((0,n._)({type:"checkbox",value:e},eo("purpose")),{className:"rounded border-gray-300 bg-white/50 text-black focus:ring-gray-400"})),(0,c.jsx)("span",{children:e})]},e)})})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,c.jsx)("input",{type:"checkbox",checked:X,onChange:function(e){return $(e.target.checked)},className:"text-gray-600 focus:ring-gray-500",title:"Zaznacz aby włączyć licytację"}),(0,c.jsx)("label",{className:"text-xs font-medium text-black",children:"Cena wywoławcza (zł)"})]}),(0,c.jsx)("input",(0,i._)((0,n._)({type:"number"},eo("startingPrice",{valueAsNumber:!0})),{disabled:!X,className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500 ".concat(X?"bg-white/50":"bg-gray-200")})),eu.startingPrice&&(0,c.jsx)("p",{className:"text-red-600 text-xs mt-1",children:eu.startingPrice.message})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,c.jsx)("input",{type:"checkbox",checked:et,onChange:function(e){return es(e.target.checked)},className:"text-gray-600 focus:ring-gray-500",title:"Zaznacz aby włączyć opcję Kup teraz"}),(0,c.jsx)("label",{className:"text-xs font-medium text-black",children:"Cena Kup teraz (zł)"})]}),(0,c.jsx)("input",(0,i._)((0,n._)({type:"number"},eo("buyNowPrice",{valueAsNumber:!0})),{disabled:!et,className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500 ".concat(et?"bg-white/50":"bg-gray-200")})),eu.buyNowPrice&&(0,c.jsx)("p",{className:"text-red-600 text-xs mt-1",children:eu.buyNowPrice.message})]})]}),(0,c.jsxs)("div",{className:"mb-2",children:[(0,c.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Pliki *"}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Zdjęcia i filmy *"}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,c.jsxs)("div",(0,i._)((0,n._)({},ep()),{className:"border border-dashed rounded p-2 text-center cursor-pointer transition-colors ".concat(ef?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"),children:[(0,c.jsx)("input",(0,n._)({},eb())),(0,c.jsx)(j.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,c.jsx)("p",{className:"text-xs text-black",children:"Zdjęcia"}),(0,c.jsxs)("p",{className:"text-xs text-black/60",children:["(",Y.length,"/8)"]})]})),(0,c.jsxs)("div",(0,i._)((0,n._)({},ej()),{className:"border border-dashed rounded p-2 text-center cursor-pointer transition-colors ".concat(ev?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"),children:[(0,c.jsx)("input",(0,n._)({},ey())),(0,c.jsx)(y.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,c.jsx)("p",{className:"text-xs text-black",children:"Filmy"}),(0,c.jsxs)("p",{className:"text-xs text-black/60",children:["(",O.length,"/3)"]})]}))]}),Y.length>0&&(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("div",{className:"space-y-1",children:Y.map(function(e){return(0,c.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,c.jsx)("div",{className:"w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",onClick:function(){return eC(e.preview)},title:"Kliknij aby powiększyć",children:(0,c.jsx)(w.default,{src:e.preview,alt:"Preview",width:100,height:100,className:"w-full h-full object-cover"})}),(0,c.jsx)("span",{className:"text-xs text-black truncate flex-1",children:e.file.name}),(0,c.jsx)("button",{onClick:function(){return e_(e.id)},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,c.jsx)(u.A,{className:"w-2 h-2"})})]},e.id)})})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Rodow\xf3d *"}),"Pigeon"===ex&&(0,c.jsxs)("div",(0,i._)((0,n._)({},eN()),{className:"border border-dashed rounded p-2 text-center cursor-pointer transition-colors ".concat(ez?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"),children:[(0,c.jsx)("input",(0,n._)({},ek())),(0,c.jsx)(v.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,c.jsx)("p",{className:"text-xs text-black",children:"Rodow\xf3d"}),(0,c.jsxs)("p",{className:"text-xs text-black/60",children:["(",U.length,"/2)"]})]})),U.length>0&&"Pigeon"===ex&&(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("div",{className:"space-y-1",children:U.map(function(e){return(0,c.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,c.jsx)("div",{className:"w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex-shrink-0 ".concat("image"===e.type?"cursor-pointer hover:opacity-80 transition-opacity":""),onClick:"image"===e.type?function(){return eC(e.preview)}:void 0,title:"image"===e.type?"Kliknij aby powiększyć":void 0,children:"image"===e.type?(0,c.jsx)(w.default,{src:e.preview,alt:"Preview",width:100,height:100,className:"w-full h-full object-cover"}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,c.jsx)("span",{className:"text-gray-500 text-xs",children:"PDF"})})}),(0,c.jsx)("span",{className:"text-xs text-black truncate flex-1",children:e.file.name}),(0,c.jsx)("button",{onClick:function(){return eA(e.id)},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,c.jsx)(u.A,{className:"w-2 h-2"})})]},e.id)})})})]})]}),O.length>0&&(0,c.jsx)("div",{className:"mt-3 space-y-2",children:O.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-black/60 mb-1",children:"Filmy:"}),(0,c.jsx)("div",{className:"space-y-1",children:O.map(function(e){return(0,c.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,c.jsx)("div",{className:"w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex items-center justify-center flex-shrink-0",children:(0,c.jsx)(y.A,{className:"w-4 h-4 text-gray-500"})}),(0,c.jsx)("span",{className:"text-xs text-black truncate flex-1",children:e.file.name}),(0,c.jsx)("button",{onClick:function(){return eP(e.id)},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,c.jsx)(u.A,{className:"w-2 h-2"})})]},e.id)})})]})})]}),(0,c.jsx)("div",{className:"flex justify-end mt-8 pt-6 border-t border-white/20",children:(0,c.jsx)("button",{type:"submit",disabled:Z,className:"flex items-center gap-2 px-8 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:Z?"Publikuję...":"Opublikuj aukcję"})})]}),G&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:eS,children:(0,c.jsxs)("div",{className:"relative max-w-4xl max-h-4xl p-4",children:[(0,c.jsx)("button",{onClick:eS,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center z-10",title:"Zamknij",children:(0,c.jsx)(u.A,{className:"w-4 h-4"})}),(0,c.jsx)(w.default,{src:G,alt:"Podgląd",width:800,height:600,className:"max-w-full max-h-full object-contain rounded-lg",onClick:function(e){return e.stopPropagation()}})]})})]}):(0,c.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-md",children:(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,c.jsxs)("div",{className:"ml-3",children:[(0,c.jsx)("p",{className:"text-sm text-yellow-700",children:(0,c.jsx)("strong",{children:"Weryfikacja profilu wymagana"})}),(0,c.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Aby utworzyć aukcję, musisz uzupełnić wszystkie dane w profilu i zweryfikować numer telefonu."}),R.length>0&&(0,c.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["Brakujące pola: ",R.join(", ")]}),(0,c.jsx)("div",{className:"mt-3",children:(0,c.jsx)(k(),{href:"/dashboard?tab=profile",className:"font-medium underline text-yellow-800 hover:text-yellow-900",children:"Uzupełnij profil"})})]})]})}):(0,c.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:(0,c.jsxs)("p",{className:"text-xs text-red-700",children:["Musisz być zalogowany, aby utworzyć aukcję.",(0,c.jsx)(k(),{href:"/auth/signin",className:"font-medium underline text-red-800 hover:text-red-900 ml-2",children:"Zaloguj się"})]})})}}}]);