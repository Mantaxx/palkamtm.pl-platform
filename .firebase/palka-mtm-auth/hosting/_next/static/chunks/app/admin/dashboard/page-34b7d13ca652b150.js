(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{33:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},1169:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1505:(e,t,a)=>{"use strict";a.d(t,{AdminRouteGuard:()=>x});var s=a(5155),n=a(5927),r=a(1975),i=a(1983),c=a(5849),l=a(2043),d=a(1450),o=a(2115),u=a(63);function x(e){var t,a,x,m,h,p,y,j=e.children,b=(0,n.A)(),g=b.user,f=b.loading,w=(a=(t=(0,n.A)()).user,x=t.loading,h=(m=(0,l._)((0,o.useState)({loading:!0,isAdmin:!1,userRole:null,error:null}),2))[0],p=m[1],y=(0,o.useCallback)(function(){return(0,r._)(function(){var e,t,s,n;return(0,d.YH)(this,function(r){switch(r.label){case 0:if(x)return[2];if(!a)return p({loading:!1,isAdmin:!1,userRole:null,error:"Użytkownik nie jest zalogowany"}),[2];p(function(e){return(0,c._)((0,i._)({},e),{loading:!0,error:null})}),r.label=1;case 1:return r.trys.push([1,8,,9]),[4,a.getIdToken()];case 2:return e=r.sent(),[4,fetch("/api/profile",{headers:{Authorization:"Bearer ".concat(e)}})];case 3:if(!(t=r.sent()).ok)return[3,5];return[4,t.json()];case 4:return p({loading:!1,isAdmin:"ADMIN"===(n=(null==(s=r.sent().user)?void 0:s.role)||"USER"),userRole:n,error:null}),[3,7];case 5:return[4,t.json()];case 6:p({loading:!1,isAdmin:!1,userRole:null,error:r.sent().error||"Nie udało się pobrać danych użytkownika"}),r.label=7;case 7:return[3,9];case 8:return console.error("Błąd podczas sprawdzania uprawnień administratora:",r.sent()),p({loading:!1,isAdmin:!1,userRole:null,error:"Wystąpił błąd sieci lub serwera"}),[3,9];case 9:return[2]}})})()},[a,x]),(0,o.useEffect)(function(){y()},[y]),h),v=w.isAdmin,N=w.loading,k=(0,u.useRouter)();return((0,o.useEffect)(function(){if(!f&&!N){if(!g)return void k.push("/auth/signin");if(!v)return void k.push("/dashboard")}},[g,v,f,N,k]),f||N)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-white/70",children:"Sprawdzanie uprawnień..."})]})}):g&&v?(0,s.jsx)(s.Fragment,{children:j}):null}},1761:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2171:(e,t,a)=>{"use strict";a.d(t,{default:()=>T});var s=a(1975),n=a(1983),r=a(5849),i=a(2043),c=a(5377),l=a(1450),d=a(5155),o=a(5927),u=a(5947),x=a(33),m=a(1169),h=a(6926),p=a(9347),y=a(5664),j=a(1761),b=a(5870),g=a(4926),f=a(5105),w=(0,f.A)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),v=(0,f.A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),N=(0,f.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),k=(0,f.A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),z=(0,f.A)("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]),A=a(7816),S=(0,f.A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),C=(0,f.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),_=a(5229),M=(0,f.A)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),D=(0,f.A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),P=a(5239),E=a(63),B=a(2115);function T(){var e,t,a,f=(0,o.A)().user,T=(0,E.useRouter)(),Z=(0,i._)((0,B.useState)("overview"),2),H=Z[0],L=Z[1],O=(0,i._)((0,B.useState)(null),2),R=O[0],U=O[1],Y=(0,i._)((0,B.useState)([]),2),I=Y[0],V=Y[1],q=(0,i._)((0,B.useState)(0),2),F=q[0],J=q[1],W=(0,i._)((0,B.useState)(1),2),K=W[0],G=W[1],X=(0,i._)((0,B.useState)(10),2),Q=X[0],$=X[1],ee=(0,i._)((0,B.useState)(""),2),et=ee[0],ea=ee[1],es=(0,i._)((0,B.useState)(""),2),en=es[0],er=es[1],ei=(0,i._)((0,B.useState)(null),2),ec=ei[0],el=ei[1],ed=(0,i._)((0,B.useState)({firstName:"",lastName:"",role:"USER",isActive:!0}),2),eo=ed[0],eu=ed[1],ex=(0,i._)((0,B.useState)(!1),2),em=ex[0],eh=ex[1],ep=(0,i._)((0,B.useState)(!1),2),ey=ep[0],ej=ep[1],eb=(0,i._)((0,B.useState)([]),2),eg=eb[0],ef=eb[1],ew=(0,i._)((0,B.useState)(0),2),ev=ew[0],eN=ew[1],ek=(0,i._)((0,B.useState)(1),2),ez=ek[0],eA=ek[1],eS=(0,i._)((0,B.useState)(10),2),eC=eS[0],e_=eS[1],eM=(0,i._)((0,B.useState)(""),2),eD=eM[0],eP=eM[1],eE=(0,i._)((0,B.useState)([]),2),eB=eE[0],eT=eE[1],eZ=(0,i._)((0,B.useState)(0),2),eH=eZ[0],eL=eZ[1],eO=(0,i._)((0,B.useState)(1),2),eR=eO[0],eU=eO[1],eY=(0,i._)((0,B.useState)(10),2),eI=eY[0],eV=eY[1],eq=(0,i._)((0,B.useState)(null),2),eF=eq[0],eJ=eq[1],eW=(0,i._)((0,B.useState)("pending"),2),eK=eW[0],eG=eW[1],eX=(0,i._)((0,B.useState)([]),2),eQ=eX[0],e$=eX[1],e0=(0,i._)((0,B.useState)(0),2),e1=e0[0],e2=e0[1],e4=(0,i._)((0,B.useState)(1),2),e3=e4[0],e5=e4[1],e6=(0,i._)((0,B.useState)(10),2),e7=e6[0],e8=e6[1],e9=(0,i._)((0,B.useState)(null),2),te=e9[0],tt=e9[1],ta=(0,i._)((0,B.useState)([]),2),ts=ta[0],tn=ta[1],tr=(0,i._)((0,B.useState)(!1),2),ti=tr[0],tc=tr[1],tl=(0,i._)((0,B.useState)(null),2),td=tl[0],to=tl[1],tu=(0,i._)((0,B.useState)(!1),2),tx=tu[0],tm=tu[1],th=(0,i._)((0,B.useState)(null),2),tp=th[0],ty=th[1],tj=(0,i._)((0,B.useState)(!1),2),tb=tj[0],tg=tj[1],tf=(0,i._)((0,B.useState)([]),2),tw=tf[0],tv=tf[1],tN=(0,i._)((0,B.useState)(0),2),tk=tN[0],tz=tN[1],tA=(0,i._)((0,B.useState)("pending"),2),tS=tA[0],tC=tA[1],t_=(0,i._)((0,B.useState)([]),2),tM=t_[0],tD=t_[1],tP=(0,i._)((0,B.useState)(0),2),tE=tP[0],tB=tP[1],tT=(0,i._)((0,B.useState)("pending"),2),tZ=tT[0],tH=tT[1];(0,B.useEffect)(function(){(0,s._)(function(){var e,t,a,s,n,r,c,d,o,u,x,m;return(0,l.YH)(this,function(l){switch(l.label){case 0:if(!f)return[2];l.label=1;case 1:return l.trys.push([1,4,,5]),[4,f.getIdToken()];case 2:return e=l.sent(),[4,Promise.all([fetch("/api/admin/stats",{headers:t={Authorization:"Bearer ".concat(e)}}).then(function(e){return e.ok?e.json():null}),fetch("/api/admin/users?page=".concat(K,"&pageSize=").concat(Q).concat(et?"&role=".concat(et):"").concat(en?"&status=".concat(en):""),{headers:t}).then(function(e){return e.ok?e.json():null}),fetch("/api/admin/transactions?page=".concat(ez,"&pageSize=").concat(eC).concat(eD?"&status=".concat(eD):""),{headers:t}).then(function(e){return e.ok?e.json():null}),fetch("/api/admin/auctions/pending?page=".concat(eR,"&limit=").concat(eI),{headers:t}).then(function(e){return e.ok?e.json():null}),fetch("/api/admin/auctions/active?page=".concat(e3,"&limit=").concat(e7),{headers:t}).then(function(e){return e.ok?e.json():null}),fetch("/api/admin/references?page=1&limit=10&status=".concat(tS),{headers:t}).then(function(e){return e.ok?e.json():null}),fetch("/api/admin/breeder-meetings?page=1&limit=10&status=".concat(tZ),{headers:t}).then(function(e){return e.ok?e.json():null})])];case 3:return s=(a=i._.apply(void 0,[l.sent(),7]))[0],n=a[1],r=a[2],c=a[3],d=a[4],o=a[5],u=a[6],s&&U(s),n&&(V(n.items),J(n.total)),r&&(ef(r.items),eN(r.total)),c&&(eT(c.auctions),eL(c.total)),d&&(e$(d.auctions),e2(d.total)),o&&(tv(o.references),tz((null==(x=o.pagination)?void 0:x.total)||0)),u&&(tD(u.meetings),tB((null==(m=u.pagination)?void 0:m.total)||0)),[3,5];case 4:return l.sent(),[3,5];case 5:return[2]}})})()},[f,K,Q,et,en,ez,eC,eD,eR,eI,e3,e7,tS,tZ]);var tL=(0,B.useCallback)(function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,s._)(function(){var t,a;return(0,l.YH)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("/api/admin/auctions/pending?page=".concat(eR,"&limit=").concat(eI)).then(function(e){return e.json()})];case 1:return eT((t=s.sent()).auctions),eL(t.total),[4,fetch("/api/admin/auctions/active?page=".concat(e3,"&limit=").concat(e7)).then(function(e){return e.json()})];case 2:return e$((a=s.sent()).auctions),e2(a.total),e||console.log("✅ Listy aukcji zostały odświeżone"),[3,4];case 3:return console.error("Błąd podczas odświeżania list aukcji:",s.sent()),[3,4];case 4:return[2]}})})()},[eR,eI,e3,e7]);(0,B.useEffect)(function(){var e=setInterval(function(){tL(!0)},3e4);return function(){return clearInterval(e)}},[eR,eI,e3,e7,tL]);var tO=function(e){el(e),eu({firstName:e.firstName||"",lastName:e.lastName||"",role:e.role||"USER",isActive:!!e.isActive})},tR=function(e){switch(e){case"active":case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"blocked":case"disputed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},tU=function(e){switch(e){case"active":return"Aktywny";case"pending":return"Oczekuje";case"blocked":return"Zablokowany";case"completed":return"Zakończona";case"disputed":return"Sp\xf3r";default:return e}},tY=function(e){switch(e){case"USER":return"Użytkownik";case"ADMIN":return"Administrator";default:return e}},tI=function(e){return(0,s._)(function(){var t;return(0,l.YH)(this,function(a){switch(a.label){case 0:tt(e),tc(!0),a.label=1;case 1:return a.trys.push([1,6,7,8]),[4,fetch("/api/admin/auctions/".concat(e.id,"/bidders"))];case 2:if(!(t=a.sent()).ok)return[3,4];return[4,t.json()];case 3:return tn(a.sent().bidders||[]),[3,5];case 4:tn([]),a.label=5;case 5:return[3,8];case 6:return console.error("Błąd podczas pobierania licytujących:",a.sent()),tn([]),[3,8];case 7:return tc(!1),[7];case 8:return[2]}})})()},tV=function(e){to({id:e.id,amount:e.amount,originalAmount:e.amount})},tq=function(){return(0,s._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(!td||!te)return[2];tm(!0),e.label=1;case 1:return e.trys.push([1,7,8,9]),[4,fetch("/api/admin/auctions/".concat(te.id,"/bids/").concat(td.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:td.amount})})];case 2:if(!e.sent().ok)return[3,5];return[4,tI(te)];case 3:return e.sent(),[4,tL(!0)];case 4:return e.sent(),to(null),alert("Licytacja została zaktualizowana"),[3,6];case 5:alert("Błąd podczas aktualizacji licytacji"),e.label=6;case 6:return[3,9];case 7:return console.error("Błąd podczas aktualizacji licytacji:",e.sent()),alert("Błąd podczas aktualizacji licytacji"),[3,9];case 8:return tm(!1),[7];case 9:return[2]}})})()},tF=function(e){ty({id:e.id,title:e.title,currentPrice:e.currentPrice.toString(),endTime:new Date(e.endTime).toISOString().slice(0,16),status:e.status})},tJ=function(e,t){return(0,s._)(function(){return(0,l.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,fetch("/api/admin/references/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isApproved:t})})];case 1:return a.sent().ok?(tv(tw.map(function(a){return a.id===e?(0,r._)((0,n._)({},a),{isApproved:t}):a}).filter(function(e){return"pending"===tS?!e.isApproved:"approved"!==tS||e.isApproved})),alert("Referencja została ".concat(t?"zatwierdzona":"odrzucona"))):alert("Błąd podczas aktualizacji referencji"),[3,3];case 2:return console.error("Błąd podczas aktualizacji referencji:",a.sent()),alert("Błąd podczas aktualizacji referencji"),[3,3];case 3:return[2]}})})()},tW=function(e,t){return(0,s._)(function(){return(0,l.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,fetch("/api/admin/breeder-meetings/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isApproved:t})})];case 1:return a.sent().ok?(tD(tM.map(function(a){return a.id===e?(0,r._)((0,n._)({},a),{isApproved:t}):a}).filter(function(e){return"pending"===tZ?!e.isApproved:"approved"!==tZ||e.isApproved})),alert("Spotkanie zostało ".concat(t?"zatwierdzone":"odrzucone"))):alert("Błąd podczas aktualizacji spotkania"),[3,3];case 2:return console.error("Błąd podczas aktualizacji spotkania:",a.sent()),alert("Błąd podczas aktualizacji spotkania"),[3,3];case 3:return[2]}})})()},tK=[{id:"overview",label:"Przegląd",icon:x.A},{id:"users",label:"Użytkownicy",icon:m.A},{id:"auctions",label:"Aukcje",icon:h.A},{id:"references",label:"Referencje",icon:p.A},{id:"meetings",label:"Spotkania",icon:y.A},{id:"transactions",label:"Transakcje",icon:j.A},{id:"settings",label:"Ustawienia",icon:b.A}];return(0,d.jsx)("div",{className:"min-h-screen",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 text-white",children:[(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Panel Administratora"}),(0,d.jsx)("p",{className:"text-white/70 mt-2",children:"Zarządzaj platformą, użytkownikami i transakcjami"})]}),(0,d.jsxs)("button",{onClick:function(){return T.push("/api/auth/signout")},className:"flex items-center gap-2 px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg backdrop-blur-sm transition-all duration-200 border border-red-500/30",children:[(0,d.jsx)(g.A,{className:"w-4 h-4"}),"Wyloguj się"]})]})}),(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsx)("div",{className:"border-b border-white/20",children:(0,d.jsx)("nav",{className:"-mb-px flex space-x-8",children:tK.map(function(e){var t=e.icon;return(0,d.jsxs)("button",{onClick:function(){return L(e.id)},className:"flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ".concat(H===e.id?"border-white text-white":"border-transparent text-white/60 hover:text-white hover:border-white/40"),children:[(0,d.jsx)(t,{className:"w-4 h-4"}),e.label]},e.id)})})})}),"overview"===H&&(0,d.jsxs)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,d.jsx)("div",{className:"bg-gray-800 border-2 border-white rounded-lg shadow-sm p-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"p-2 bg-gray-700 rounded-lg",children:(0,d.jsx)(m.A,{className:"w-6 h-6 text-blue-400"})}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-white/70",children:"Użytkownicy"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-white",children:null!=(e=null==R?void 0:R.totalUsers)?e:0})]})]})}),(0,d.jsx)("div",{className:"bg-gray-800 border-2 border-white rounded-lg shadow-sm p-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"p-2 bg-gray-700 rounded-lg",children:(0,d.jsx)(j.A,{className:"w-6 h-6 text-green-400"})}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-white/70",children:"Przych\xf3d platformy"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-white",children:(null==R?void 0:R.totalTransactions)?R.totalTransactions.toLocaleString()+" trans.":"0 trans."})]})]})}),(0,d.jsx)("div",{className:"bg-gray-800 border-2 border-white rounded-lg shadow-sm p-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"p-2 bg-gray-700 rounded-lg",children:(0,d.jsx)(w,{className:"w-6 h-6 text-amber-400"})}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-white/70",children:"Aktywne aukcje"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-white",children:null!=(t=null==R?void 0:R.totalAuctions)?t:0})]})]})}),(0,d.jsx)("div",{className:"bg-gray-800 border-2 border-white rounded-lg shadow-sm p-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"p-2 bg-gray-700 rounded-lg",children:(0,d.jsx)(v,{className:"w-6 h-6 text-rose-400"})}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-white/70",children:"Spory"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-white",children:null!=(a=null==R?void 0:R.disputes)?a:0})]})]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{className:"bg-gray-800 border-2 border-white rounded-lg shadow-sm p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Ostatnie transakcje"}),(0,d.jsx)("div",{className:"space-y-4",children:0===eg.length?(0,d.jsx)("div",{className:"text-sm text-white/70",children:"Brak danych"}):eg.slice(0,3).map(function(e){var t,a,s;return(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-white",children:(null==(t=e.auction)?void 0:t.title)||"Aukcja"}),(0,d.jsx)("p",{className:"text-sm text-white/70",children:((null==(a=e.buyer)?void 0:a.firstName)||"")+" "+((null==(s=e.buyer)?void 0:s.lastName)||"")})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"font-semibold text-white",children:[Number(e.amount||0).toLocaleString()," zł"]}),(0,d.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(tR(String(e.status||"pending"))),children:tU(String(e.status||"pending"))})]})]},e.id)})})]}),(0,d.jsxs)("div",{className:"bg-gray-800 border-2 border-white rounded-lg shadow-sm p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Oczekujące akcje"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(N,{className:"w-5 h-5 text-amber-400"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-white",children:"Zatwierdzenie sprzedawc\xf3w"}),(0,d.jsx)("p",{className:"text-sm text-white/70",children:"0 oczekuje"})]})]}),(0,d.jsx)("button",{className:"text-white/80 hover:text-white font-medium",children:"Sprawdź"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(v,{className:"w-5 h-5 text-rose-400"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-white",children:"Spory do rozstrzygnięcia"}),(0,d.jsx)("p",{className:"text-sm text-white/70",children:"0 spraw"})]})]}),(0,d.jsx)("button",{className:"text-white/80 hover:text-white font-medium",children:"Sprawdź"})]})]})]})]})]}),"users"===H&&(0,d.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:(0,d.jsxs)("div",{className:"bg-white border-2 border-white rounded-lg shadow-sm overflow-hidden",children:[(0,d.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Zarządzanie użytkownikami"})}),(0,d.jsxs)("div",{className:"overflow-x-auto",children:[(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Użytkownik"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rola"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data dołączenia"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Akcje"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===I.length?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-600",children:"Brak danych użytkownik\xf3w"})}):I.map(function(e){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||e.email}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:"text-sm text-gray-900",children:tY(e.role)})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(tR(e.isActive?"active":"blocked")),children:tU(e.isActive?"active":"blocked")})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("pl-PL")}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-600",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{"aria-label":"Edytuj",title:"Edytuj",onClick:function(){return tO(e)},className:"px-3 py-1 border rounded hover:bg-gray-50 text-gray-700",children:"Edytuj"}),(0,d.jsx)("button",{"aria-label":e.isActive?"Dezaktywuj":"Aktywuj",title:e.isActive?"Dezaktywuj":"Aktywuj",onClick:function(){return(0,s._)(function(){var t;return(0,l.YH)(this,function(a){switch(a.label){case 0:return[4,fetch("/api/admin/users/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})})];case 1:return a.sent(),[4,fetch("/api/admin/users?page=".concat(K,"&pageSize=").concat(Q).concat(et?"&role=".concat(et):"").concat(en?"&status=".concat(en):"")).then(function(e){return e.json()})];case 2:return V((t=a.sent()).items),J(t.total),[2]}})})()},className:"px-3 py-1 border rounded hover:bg-gray-50 text-gray-700",children:e.isActive?"Dezaktywuj":"Aktywuj"}),(0,d.jsx)("button",{"aria-label":"Usuń",title:"Usuń",onClick:function(){return(0,s._)(function(){var t;return(0,l.YH)(this,function(a){switch(a.label){case 0:if(!confirm("Na pewno usunąć użytkownika?"))return[2];ej(!0),a.label=1;case 1:return a.trys.push([1,,4,5]),[4,fetch("/api/admin/users/".concat(e.id),{method:"DELETE"})];case 2:return a.sent(),[4,fetch("/api/admin/users?page=".concat(K,"&pageSize=").concat(Q).concat(et?"&role=".concat(et):"").concat(en?"&status=".concat(en):"")).then(function(e){return e.json()})];case 3:return V((t=a.sent()).items),J(t.total),[3,5];case 4:return ej(!1),[7];case 5:return[2]}})})()},disabled:ey,className:"px-3 py-1 border rounded hover:bg-red-50 disabled:opacity-50 text-gray-700",children:"Usuń"})]})})]},e.id)})})]}),ec&&(0,d.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":"Edytuj użytkownika",className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-white border-2 border-white rounded-lg shadow-lg w-full max-w-md p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Edytuj użytkownika"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Email"}),(0,d.jsx)("input",{"aria-label":"Email",value:(null==ec?void 0:ec.email)||"",readOnly:!0,className:"w-full border rounded px-3 py-2 bg-gray-50 text-gray-600 cursor-not-allowed"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Imię"}),(0,d.jsx)("input",{"aria-label":"Imię",value:eo.firstName,onChange:function(e){return eu(function(t){return(0,r._)((0,n._)({},t),{firstName:e.target.value})})},className:"w-full border rounded px-3 py-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Nazwisko"}),(0,d.jsx)("input",{"aria-label":"Nazwisko",value:eo.lastName,onChange:function(e){return eu(function(t){return(0,r._)((0,n._)({},t),{lastName:e.target.value})})},className:"w-full border rounded px-3 py-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Rola"}),(0,d.jsxs)("select",{"aria-label":"Rola",value:eo.role,onChange:function(e){return eu(function(t){return(0,r._)((0,n._)({},t),{role:e.target.value})})},className:"w-full border rounded px-3 py-2",children:[(0,d.jsx)("option",{value:"USER",children:"Użytkownik"}),(0,d.jsx)("option",{value:"ADMIN",children:"Administrator"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{id:"isActive","aria-label":"Aktywne konto",type:"checkbox",checked:eo.isActive,onChange:function(e){return eu(function(t){return(0,r._)((0,n._)({},t),{isActive:e.target.checked})})}}),(0,d.jsx)("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Aktywne konto"})]})]}),(0,d.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-2",children:[(0,d.jsx)("button",{onClick:function(){return el(null)},className:"px-4 py-2 border rounded",children:"Anuluj"}),(0,d.jsx)("button",{onClick:function(){return(0,s._)(function(){var e;return(0,l.YH)(this,function(t){switch(t.label){case 0:if(!(null==ec?void 0:ec.id))return[2];eh(!0),t.label=1;case 1:return t.trys.push([1,,5,6]),[4,fetch("/api/admin/users/".concat(ec.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(eo)})];case 2:if(!t.sent().ok)return[3,4];return[4,fetch("/api/admin/users?page=".concat(K,"&pageSize=").concat(Q).concat(et?"&role=".concat(et):"").concat(en?"&status=".concat(en):"")).then(function(e){return e.json()})];case 3:V((e=t.sent()).items),J(e.total),el(null),t.label=4;case 4:return[3,6];case 5:return eh(!1),[7];case 6:return[2]}})})()},disabled:em,className:"px-4 py-2 bg-slate-600 text-white rounded disabled:opacity-50",children:"Zapisz"})]})]})}),(0,d.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("label",{className:"text-sm text-gray-600",children:"Rola"}),(0,d.jsxs)("select",{"aria-label":"Filtr roli użytkownika",title:"Filtr roli użytkownika",value:et,onChange:function(e){G(1),ea(e.target.value)},className:"border rounded px-2 py-1 text-sm",children:[(0,d.jsx)("option",{value:"",children:"Wszystkie"}),(0,d.jsx)("option",{value:"USER",children:"Użytkownik"}),(0,d.jsx)("option",{value:"ADMIN",children:"Administrator"})]}),(0,d.jsx)("label",{className:"text-sm text-gray-600 ml-4",children:"Status"}),(0,d.jsxs)("select",{"aria-label":"Filtr statusu użytkownika",title:"Filtr statusu użytkownika",value:en,onChange:function(e){G(1),er(e.target.value)},className:"border rounded px-2 py-1 text-sm",children:[(0,d.jsx)("option",{value:"",children:"Wszystkie"}),(0,d.jsx)("option",{value:"active",children:"Aktywny"}),(0,d.jsx)("option",{value:"blocked",children:"Zablokowany"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)("button",{disabled:K<=1,onClick:function(){return G(function(e){return Math.max(1,e-1)})},className:"px-3 py-1 border rounded disabled:opacity-50",children:"Poprzednia"}),(0,d.jsxs)("span",{children:["Strona ",K," z ",Math.max(1,Math.ceil(F/Q))]}),(0,d.jsx)("button",{disabled:K>=Math.ceil(F/Q),onClick:function(){return G(function(e){return e+1})},className:"px-3 py-1 border rounded disabled:opacity-50",children:"Następna"}),(0,d.jsxs)("select",{"aria-label":"Rozmiar strony użytkownik\xf3w",title:"Rozmiar strony użytkownik\xf3w",value:Q,onChange:function(e){G(1),$(parseInt(e.target.value,10))},className:"ml-2 border rounded px-2 py-1",children:[(0,d.jsx)("option",{value:10,children:"10"}),(0,d.jsx)("option",{value:20,children:"20"}),(0,d.jsx)("option",{value:50,children:"50"})]})]})]})]})]})}),"auctions"===H&&(0,d.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:(0,d.jsxs)("div",{className:"bg-gray-800 border-2 border-white rounded-lg shadow-sm p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Zarządzanie aukcjami"}),(0,d.jsxs)("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[(0,d.jsxs)("button",{onClick:function(){return eG("pending")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("pending"===eK?"bg-white text-gray-900":"text-white hover:text-gray-300"),children:["Oczekujące (",eH,")"]}),(0,d.jsxs)("button",{onClick:function(){return eG("active")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("active"===eK?"bg-white text-gray-900":"text-white hover:text-gray-300"),children:["Aktywne (",e1,")"]})]})]}),"pending"===eK&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Oczekujące aukcje do zatwierdzenia"}),(0,d.jsx)("div",{className:"space-y-4",children:0===eB.length?(0,d.jsxs)("div",{className:"text-center py-8 text-white/70",children:[(0,d.jsx)(h.A,{className:"w-12 h-12 mx-auto mb-4 text-white/40"}),(0,d.jsx)("p",{children:"Brak oczekujących aukcji do zatwierdzenia"})]}):eB.map(function(e){return(0,d.jsx)("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),(0,d.jsx)("p",{className:"text-white/70 text-sm mb-2",children:e.description}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm text-white/60",children:[(0,d.jsxs)("span",{children:["Kategoria: ",e.category]}),(0,d.jsxs)("span",{children:["Cena startowa: ",e.startingPrice," zł"]}),(0,d.jsxs)("span",{children:["Sprzedawca: ",e.seller.firstName," ",e.seller.lastName]}),(0,d.jsxs)("span",{children:["Data utworzenia: ",new Date(e.createdAt).toLocaleDateString()]})]}),e.assets&&e.assets.length>0&&(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsx)("p",{className:"text-white/60 text-sm",children:"Zasoby:"}),(0,d.jsxs)("div",{className:"flex gap-2 mt-1",children:[e.assets.slice(0,3).map(function(e){return(0,d.jsxs)("div",{className:"text-xs text-white/50",children:[e.type,": ",e.url.split("/").pop()]},e.id)}),e.assets.length>3&&(0,d.jsxs)("div",{className:"text-xs text-white/50",children:["+",e.assets.length-3," więcej"]})]})]})]}),(0,d.jsx)("div",{className:"flex gap-2 ml-4",children:(0,d.jsx)("button",{onClick:function(){var t;return t=e.id,(0,s._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:eJ(t),e.label=1;case 1:return e.trys.push([1,6,7,8]),[4,fetch("/api/auctions/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auctionId:t})})];case 2:if(!e.sent().ok)return[3,4];return[4,tL(!1)];case 3:return e.sent(),alert("Aukcja została zatwierdzona i przeniesiona do aktywnych!"),[3,5];case 4:alert("Błąd podczas zatwierdzania aukcji"),e.label=5;case 5:return[3,8];case 6:return e.sent(),alert("Błąd podczas zatwierdzania aukcji"),[3,8];case 7:return eJ(null),[7];case 8:return[2]}})})()},disabled:eF===e.id,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:eF===e.id?"Zatwierdzanie...":"Zatwierdź"})})]})},e.id)})}),eH>0&&(0,d.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[(0,d.jsxs)("span",{children:["Strona ",eR," z ",Math.max(1,Math.ceil(eH/eI))]}),(0,d.jsxs)("span",{children:["Łącznie: ",eH," aukcji"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{disabled:eR<=1,onClick:function(){return eU(function(e){return Math.max(1,e-1)})},className:"px-3 py-1 border border-white/20 rounded text-white disabled:opacity-50 hover:bg-white/10",children:"Poprzednia"}),(0,d.jsx)("button",{disabled:eR>=Math.ceil(eH/eI),onClick:function(){return eU(function(e){return e+1})},className:"px-3 py-1 border border-white/20 rounded text-white disabled:opacity-50 hover:bg-white/10",children:"Następna"}),(0,d.jsxs)("select",{value:eI,onChange:function(e){eU(1),eV(parseInt(e.target.value,10))},className:"ml-2 border border-white/20 rounded px-2 py-1 bg-gray-800 text-white","aria-label":"Rozmiar strony aukcji",title:"Rozmiar strony aukcji",children:[(0,d.jsx)("option",{value:10,children:"10"}),(0,d.jsx)("option",{value:20,children:"20"}),(0,d.jsx)("option",{value:50,children:"50"})]})]})]})]}),"active"===eK&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Aktywne aukcje"}),(0,d.jsx)("div",{className:"space-y-4",children:0===eQ.length?(0,d.jsxs)("div",{className:"text-center py-8 text-white/70",children:[(0,d.jsx)(h.A,{className:"w-12 h-12 mx-auto mb-4 text-white/40"}),(0,d.jsx)("p",{children:"Brak aktywnych aukcji"})]}):eQ.map(function(e){return(0,d.jsx)("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),(0,d.jsx)("p",{className:"text-white/70 text-sm mb-2",children:e.description}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-2",children:[(0,d.jsxs)("span",{children:["Kategoria: ",e.category]}),(0,d.jsxs)("span",{children:["Cena startowa: ",e.startingPrice," zł"]}),(0,d.jsxs)("span",{children:["Aktualna cena: ",e.currentPrice," zł"]}),(0,d.jsxs)("span",{children:["Sprzedawca: ",e.seller.firstName," ",e.seller.lastName]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm text-white/60",children:[(0,d.jsxs)("span",{children:["Start: ",new Date(e.startTime).toLocaleDateString()]}),(0,d.jsxs)("span",{children:["Koniec: ",new Date(e.endTime).toLocaleDateString()]}),e.bids&&e.bids.length>0&&(0,d.jsxs)("span",{children:["Najwyższa oferta: ",e.bids[0].bidder.firstName," ",e.bids[0].bidder.lastName," - ",e.bids[0].amount," zł"]})]}),e.assets&&e.assets.length>0&&(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsx)("p",{className:"text-white/60 text-sm",children:"Zasoby:"}),(0,d.jsxs)("div",{className:"flex gap-2 mt-1",children:[e.assets.slice(0,3).map(function(e){return(0,d.jsxs)("div",{className:"text-xs text-white/50",children:[e.type,": ",e.url.split("/").pop()]},e.id)}),e.assets.length>3&&(0,d.jsxs)("div",{className:"text-xs text-white/50",children:["+",e.assets.length-3," więcej"]})]})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,d.jsx)("button",{onClick:function(){return window.open("/auctions/".concat(e.id),"_blank")},className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",title:"Zobacz aukcję",children:"Zobacz"}),(0,d.jsx)("button",{onClick:function(){return tI(e)},className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",title:"Przeglądaj licytujących",children:"Licytujący"}),(0,d.jsx)("button",{onClick:function(){return tF(e)},className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",title:"Edytuj aukcję",children:(0,d.jsx)(k,{className:"w-4 h-4"})}),(0,d.jsx)("button",{onClick:function(){var t,a;return t=e.id,a=e.title,(0,s._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(!confirm('Czy na pewno chcesz zakończyć aukcję "'.concat(a,'"?')))return[2];e.label=1;case 1:return e.trys.push([1,6,,7]),[4,fetch("/api/admin/auctions/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ENDED"})})];case 2:if(!e.sent().ok)return[3,4];return[4,tL(!1)];case 3:return e.sent(),alert("Aukcja została zakończona"),[3,5];case 4:alert("Błąd podczas kończenia aukcji"),e.label=5;case 5:return[3,7];case 6:return console.error("Błąd podczas kończenia aukcji:",e.sent()),alert("Błąd podczas kończenia aukcji"),[3,7];case 7:return[2]}})})()},className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm",title:"Zakończ aukcję",children:(0,d.jsx)(z,{className:"w-4 h-4"})})]})]})},e.id)})}),e1>0&&(0,d.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[(0,d.jsxs)("span",{children:["Strona ",e3," z ",Math.max(1,Math.ceil(e1/e7))]}),(0,d.jsxs)("span",{children:["Łącznie: ",e1," aukcji"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{disabled:e3<=1,onClick:function(){return e5(function(e){return Math.max(1,e-1)})},className:"px-3 py-1 border border-white/20 rounded text-white disabled:opacity-50 hover:bg-white/10",children:"Poprzednia"}),(0,d.jsx)("button",{disabled:e3>=Math.ceil(e1/e7),onClick:function(){return e5(function(e){return e+1})},className:"px-3 py-1 border border-white/20 rounded text-white disabled:opacity-50 hover:bg-white/10",children:"Następna"}),(0,d.jsxs)("select",{value:e7,onChange:function(e){e5(1),e8(parseInt(e.target.value,10))},className:"ml-2 border border-white/20 rounded px-2 py-1 bg-gray-800 text-white","aria-label":"Rozmiar strony aktywnych aukcji",title:"Rozmiar strony aktywnych aukcji",children:[(0,d.jsx)("option",{value:10,children:"10"}),(0,d.jsx)("option",{value:20,children:"20"}),(0,d.jsx)("option",{value:50,children:"50"})]})]})]})]})]})}),"transactions"===H&&(0,d.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:(0,d.jsxs)("div",{className:"bg-white border-2 border-white rounded-lg shadow-sm overflow-hidden",children:[(0,d.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Transakcje"})}),(0,d.jsxs)("div",{className:"overflow-x-auto",children:[(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aukcja"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kupujący"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sprzedawca"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kwota"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prowizja"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===eg.length?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-600",children:"Brak danych transakcji"})}):eg.map(function(e){var t,a,s,n,r,i,c;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null==(t=e.auction)?void 0:t.title)||"Aukcja"})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"".concat((null==(a=e.buyer)?void 0:a.firstName)||""," ").concat((null==(s=e.buyer)?void 0:s.lastName)||"").trim()||(null==(n=e.buyer)?void 0:n.email)||""}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"".concat((null==(r=e.seller)?void 0:r.firstName)||""," ").concat((null==(i=e.seller)?void 0:i.lastName)||"").trim()||(null==(c=e.seller)?void 0:c.email)||""}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Number(e.amount||0).toLocaleString()," zł"]}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Number(e.commission||0).toLocaleString()," zł"]}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(tR(String(e.status||"pending"))),children:tU(String(e.status||"pending"))})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("pl-PL")})]},e.id)})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("label",{className:"text-sm text-gray-600",children:"Status"}),(0,d.jsxs)("select",{"aria-label":"Filtr statusu transakcji",title:"Filtr statusu transakcji",value:eD,onChange:function(e){eA(1),eP(e.target.value)},className:"border rounded px-2 py-1 text-sm",children:[(0,d.jsx)("option",{value:"",children:"Wszystkie"}),(0,d.jsx)("option",{value:"PENDING",children:"Oczekuje"}),(0,d.jsx)("option",{value:"COMPLETED",children:"Zakończona"}),(0,d.jsx)("option",{value:"DISPUTED",children:"Sp\xf3r"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)("button",{disabled:ez<=1,onClick:function(){return eA(function(e){return Math.max(1,e-1)})},className:"px-3 py-1 border rounded disabled:opacity-50",children:"Poprzednia"}),(0,d.jsxs)("span",{children:["Strona ",ez," z ",Math.max(1,Math.ceil(ev/eC))]}),(0,d.jsx)("button",{disabled:ez>=Math.ceil(ev/eC),onClick:function(){return eA(function(e){return e+1})},className:"px-3 py-1 border rounded disabled:opacity-50",children:"Następna"}),(0,d.jsxs)("select",{"aria-label":"Rozmiar strony transakcji",title:"Rozmiar strony transakcji",value:eC,onChange:function(e){eA(1),e_(parseInt(e.target.value,10))},className:"ml-2 border rounded px-2 py-1",children:[(0,d.jsx)("option",{value:10,children:"10"}),(0,d.jsx)("option",{value:20,children:"20"}),(0,d.jsx)("option",{value:50,children:"50"})]})]})]})]})]})}),"references"===H&&(0,d.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:(0,d.jsxs)("div",{className:"bg-white border-2 border-white rounded-lg shadow-sm p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Zarządzanie referencjami"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("button",{onClick:function(){return tC("pending")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("pending"===tS?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Oczekujące (","pending"===tS?tw.length:0,")"]}),(0,d.jsx)("button",{onClick:function(){return tC("approved")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("approved"===tS?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Zatwierdzone"}),(0,d.jsx)("button",{onClick:function(){return tC("all")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("all"===tS?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Wszystkie"})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:0===tw.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Brak referencji do wyświetlenia"}):tw.map(function(e){return(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900",children:e.breederName}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:e.location}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Doświadczenie: ",e.experience]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,c._)([,,,,,]).map(function(t,a){return(0,d.jsx)(p.A,{className:"w-4 h-4 ".concat(a<e.rating?"text-yellow-400 fill-current":"text-gray-300")},a)})}),(0,d.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.isApproved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isApproved?"Zatwierdzona":"Oczekuje"})]})]}),(0,d.jsx)("p",{className:"text-gray-700 mb-3",children:e.testimonial}),e.achievements&&e.achievements.length>0&&(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Osiągnięcia:"}),(0,d.jsx)("div",{className:"space-y-1",children:e.achievements.map(function(e,t){var a;return(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,d.jsx)("strong",{children:e.pigeon})," (",e.ringNumber,") - ",null==(a=e.results)?void 0:a.map(function(e){return"".concat(e.place," miejsce w ").concat(e.competition," (").concat(e.date,")")}).join(", ")]},t)})})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-500",children:["Dodano: ",new Date(e.createdAt).toLocaleDateString("pl-PL")]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[!e.isApproved&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:function(){return tJ(e.id,!0)},className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",title:"Zatwierdź referencję",children:[(0,d.jsx)(A.A,{className:"w-4 h-4"}),"Zatwierdź"]}),(0,d.jsxs)("button",{onClick:function(){return tJ(e.id,!1)},className:"flex items-center gap-1 px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",title:"Odrzuć referencję",children:[(0,d.jsx)(S,{className:"w-4 h-4"}),"Odrzuć"]})]}),(0,d.jsxs)("button",{onClick:function(){var t;return t=e.id,(0,s._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(!confirm("Czy na pewno chcesz usunąć tę referencję?"))return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch("/api/admin/references/".concat(t),{method:"DELETE"})];case 2:return e.sent().ok?(tv(tw.filter(function(e){return e.id!==t})),tz(tk-1),alert("Referencja została usunięta")):alert("Błąd podczas usuwania referencji"),[3,4];case 3:return console.error("Błąd podczas usuwania referencji:",e.sent()),alert("Błąd podczas usuwania referencji"),[3,4];case 4:return[2]}})})()},className:"flex items-center gap-1 px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm",title:"Usuń referencję",children:[(0,d.jsx)(C,{className:"w-4 h-4"}),"Usuń"]})]})]})]},e.id)})})]})}),"meetings"===H&&(0,d.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:(0,d.jsxs)("div",{className:"bg-white border-2 border-white rounded-lg shadow-sm p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Zarządzanie spotkaniami z hodowcami"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("button",{onClick:function(){return tH("pending")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("pending"===tZ?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Oczekujące (","pending"===tZ?tM.length:0,")"]}),(0,d.jsx)("button",{onClick:function(){return tH("approved")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("approved"===tZ?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Zatwierdzone"}),(0,d.jsx)("button",{onClick:function(){return tH("all")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("all"===tZ?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Wszystkie"})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:0===tM.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Brak spotkań do wyświetlenia"}):tM.map(function(e){return(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:e.location}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Data: ",new Date(e.date).toLocaleDateString("pl-PL")]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Dodane przez: ",e.user.firstName," ",e.user.lastName]})]}),(0,d.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.isApproved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isApproved?"Zatwierdzone":"Oczekuje"})]}),e.description&&(0,d.jsx)("p",{className:"text-gray-700 mb-3",children:e.description}),e.images&&e.images.length>0&&(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:["Zdjęcia (",e.images.length,"):"]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[e.images.slice(0,4).map(function(e,t){return(0,d.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:(0,d.jsx)(P.default,{src:e,alt:"Zdjęcie ".concat(t+1),fill:!0,className:"object-cover"})},t)}),e.images.length>4&&(0,d.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:["+",e.images.length-4]})})]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-500",children:["Dodano: ",new Date(e.createdAt).toLocaleDateString("pl-PL")]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[!e.isApproved&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:function(){return tW(e.id,!0)},className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",title:"Zatwierdź spotkanie",children:[(0,d.jsx)(A.A,{className:"w-4 h-4"}),"Zatwierdź"]}),(0,d.jsxs)("button",{onClick:function(){return tW(e.id,!1)},className:"flex items-center gap-1 px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",title:"Odrzuć spotkanie",children:[(0,d.jsx)(S,{className:"w-4 h-4"}),"Odrzuć"]})]}),(0,d.jsxs)("button",{onClick:function(){var t;return t=e.id,(0,s._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(!confirm("Czy na pewno chcesz usunąć to spotkanie?"))return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch("/api/admin/breeder-meetings/".concat(t),{method:"DELETE"})];case 2:return e.sent().ok?(tD(tM.filter(function(e){return e.id!==t})),tB(tE-1),alert("Spotkanie zostało usunięte")):alert("Błąd podczas usuwania spotkania"),[3,4];case 3:return console.error("Błąd podczas usuwania spotkania:",e.sent()),alert("Błąd podczas usuwania spotkania"),[3,4];case 4:return[2]}})})()},className:"flex items-center gap-1 px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm",title:"Usuń spotkanie",children:[(0,d.jsx)(C,{className:"w-4 h-4"}),"Usuń"]})]})]})]},e.id)})})]})}),"settings"===H&&(0,d.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:(0,d.jsxs)("div",{className:"bg-white border-2 border-white rounded-lg shadow-sm p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Ustawienia platformy"}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prowizja platformy (%)"}),(0,d.jsx)("input",{type:"number",defaultValue:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500","aria-label":"Prowizja platformy w procentach"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maksymalny czas trwania aukcji (dni)"}),(0,d.jsx)("input",{type:"number",defaultValue:"30",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500","aria-label":"Maksymalny czas trwania aukcji w dniach"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimalna cena wywoławcza (zł)"}),(0,d.jsx)("input",{type:"number",defaultValue:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500","aria-label":"Minimalna cena wywoławcza w złotych"})]}),(0,d.jsx)("button",{className:"bg-slate-600 text-white px-6 py-2 rounded-md hover:bg-slate-700 transition-colors",children:"Zapisz ustawienia"})]})]})}),te&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsxs)("h3",{className:"text-xl font-semibold text-white",children:["Licytujący - ",te.title]}),(0,d.jsx)("button",{onClick:function(){return tt(null)},className:"text-gray-400 hover:text-white",title:"Zamknij","aria-label":"Zamknij modal",children:(0,d.jsx)(_.A,{className:"w-6 h-6"})})]}),ti?(0,d.jsxs)("div",{className:"text-center py-8 text-white/70",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,d.jsx)("p",{children:"Ładowanie licytujących..."})]}):0===ts.length?(0,d.jsxs)("div",{className:"text-center py-8 text-white/70",children:[(0,d.jsx)(m.A,{className:"w-12 h-12 mx-auto mb-4 text-white/40"}),(0,d.jsx)("p",{children:"Brak licytujących w tej aukcji"})]}):(0,d.jsx)("div",{className:"space-y-4",children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ts.map(function(e,t){return(0,d.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("h4",{className:"font-semibold text-white",children:[e.firstName," ",e.lastName]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(0===t?"bg-green-600 text-white":"bg-gray-600 text-gray-300"),children:0===t?"Najwyższa":"#".concat(t+1)}),(0,d.jsx)("button",{onClick:function(){return tV(e)},className:"p-1 text-blue-400 hover:text-blue-300",title:"Edytuj licytację",children:(0,d.jsx)(k,{className:"w-4 h-4"})}),(0,d.jsx)("button",{onClick:function(){var t;return t=e.id,(0,s._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(!te||!confirm("Czy na pewno chcesz usunąć tę licytację?"))return[2];e.label=1;case 1:return e.trys.push([1,7,,8]),[4,fetch("/api/admin/auctions/".concat(te.id,"/bids/").concat(t),{method:"DELETE"})];case 2:if(!e.sent().ok)return[3,5];return[4,tI(te)];case 3:return e.sent(),[4,tL(!0)];case 4:return e.sent(),alert("Licytacja została usunięta"),[3,6];case 5:alert("Błąd podczas usuwania licytacji"),e.label=6;case 6:return[3,8];case 7:return console.error("Błąd podczas usuwania licytacji:",e.sent()),alert("Błąd podczas usuwania licytacji"),[3,8];case 8:return[2]}})})()},className:"p-1 text-red-400 hover:text-red-300",title:"Usuń licytację",children:(0,d.jsx)(C,{className:"w-4 h-4"})}),(0,d.jsx)("button",{onClick:function(){var t,a;return t=e.id,a="".concat(e.firstName," ").concat(e.lastName),(0,s._)(function(){var e;return(0,l.YH)(this,function(s){switch(s.label){case 0:if(!confirm("Czy na pewno chcesz zablokować użytkownika ".concat(a,"?")))return[2];s.label=1;case 1:return s.trys.push([1,7,,8]),[4,fetch("/api/admin/users/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!1})})];case 2:if(!s.sent().ok)return[3,5];if(alert("Użytkownik ".concat(a," został zablokowany")),"users"!==H)return[3,4];return[4,fetch("/api/admin/users?page=".concat(K,"&pageSize=").concat(Q).concat(et?"&role=".concat(et):"").concat(en?"&status=".concat(en):"")).then(function(e){return e.json()})];case 3:V((e=s.sent()).items),J(e.total),s.label=4;case 4:return[3,6];case 5:alert("Błąd podczas blokowania użytkownika"),s.label=6;case 6:return[3,8];case 7:return console.error("Błąd podczas blokowania użytkownika:",s.sent()),alert("Błąd podczas blokowania użytkownika"),[3,8];case 8:return[2]}})})()},className:"p-1 text-orange-400 hover:text-orange-300",title:"Zablokuj użytkownika",children:(0,d.jsx)(M,{className:"w-4 h-4"})})]})]}),(0,d.jsxs)("div",{className:"space-y-1 text-sm text-white/70",children:[(0,d.jsxs)("p",{children:["Email: ",e.email]}),td&&td.id===e.id?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{children:"Oferta:"}),(0,d.jsx)("input",{type:"number",value:td.amount,onChange:function(e){return to((0,r._)((0,n._)({},td),{amount:parseFloat(e.target.value)||0}))},className:"bg-gray-600 text-white px-2 py-1 rounded text-sm w-20",min:"0",step:"0.01","aria-label":"Kwota licytacji",title:"Kwota licytacji"}),(0,d.jsx)("span",{children:"zł"}),(0,d.jsx)("button",{onClick:tq,disabled:tx,className:"p-1 text-green-400 hover:text-green-300 disabled:opacity-50",title:"Zapisz",children:(0,d.jsx)(D,{className:"w-4 h-4"})}),(0,d.jsx)("button",{onClick:function(){return to(null)},className:"p-1 text-gray-400 hover:text-gray-300",title:"Anuluj",children:(0,d.jsx)(S,{className:"w-4 h-4"})})]}):(0,d.jsxs)("p",{children:["Oferta: ",(0,d.jsxs)("span",{className:"font-semibold text-green-400",children:[e.amount," zł"]})]}),(0,d.jsxs)("p",{children:["Data: ",new Date(e.createdAt).toLocaleString()]}),e.totalBids&&(0,d.jsxs)("p",{children:["Łączne licytacje: ",e.totalBids]}),e.rating&&(0,d.jsxs)("p",{children:["Ocena: ",e.rating,"/5 ⭐"]})]})]},e.id)})})})]})}),tp&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Edytuj aukcję"}),(0,d.jsx)("button",{onClick:function(){return ty(null)},className:"text-gray-400 hover:text-white",title:"Zamknij","aria-label":"Zamknij modal",children:(0,d.jsx)(_.A,{className:"w-6 h-6"})})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Tytuł aukcji"}),(0,d.jsx)("input",{type:"text",value:tp.title,onChange:function(e){return ty((0,r._)((0,n._)({},tp),{title:e.target.value}))},className:"w-full bg-gray-700 text-white px-3 py-2 rounded border border-gray-600 focus:border-blue-500",placeholder:"Wprowadź tytuł aukcji","aria-label":"Tytuł aukcji"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Aktualna cena (zł)"}),(0,d.jsx)("input",{type:"number",value:tp.currentPrice,onChange:function(e){return ty((0,r._)((0,n._)({},tp),{currentPrice:e.target.value}))},className:"w-full bg-gray-700 text-white px-3 py-2 rounded border border-gray-600 focus:border-blue-500",min:"0",step:"0.01",placeholder:"0.00","aria-label":"Aktualna cena aukcji"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Data zakończenia"}),(0,d.jsx)("input",{type:"datetime-local",value:tp.endTime,onChange:function(e){return ty((0,r._)((0,n._)({},tp),{endTime:e.target.value}))},className:"w-full bg-gray-700 text-white px-3 py-2 rounded border border-gray-600 focus:border-blue-500 datetime-input","aria-label":"Data zakończenia aukcji","data-fallback":"true"}),(0,d.jsx)("input",{type:"text",placeholder:"YYYY-MM-DD HH:MM",className:"w-full bg-gray-700 text-white px-3 py-2 rounded border border-gray-600 focus:border-blue-500 mt-2 datetime-fallback","aria-label":"Data zakończenia aukcji (fallback)"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Status aukcji"}),(0,d.jsxs)("select",{value:tp.status,onChange:function(e){return ty((0,r._)((0,n._)({},tp),{status:e.target.value}))},className:"w-full bg-gray-700 text-white px-3 py-2 rounded border border-gray-600 focus:border-blue-500","aria-label":"Status aukcji",children:[(0,d.jsx)("option",{value:"ACTIVE",children:"Aktywna"}),(0,d.jsx)("option",{value:"ENDED",children:"Zakończona"}),(0,d.jsx)("option",{value:"CANCELLED",children:"Anulowana"})]})]}),(0,d.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,d.jsx)("button",{onClick:function(){return(0,s._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(!tp)return[2];tg(!0),e.label=1;case 1:return e.trys.push([1,6,7,8]),[4,fetch("/api/admin/auctions/".concat(tp.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:tp.title,currentPrice:parseFloat(tp.currentPrice),endTime:new Date(tp.endTime).toISOString(),status:tp.status})})];case 2:if(!e.sent().ok)return[3,4];return[4,tL(!1)];case 3:return e.sent(),ty(null),alert("Aukcja została zaktualizowana"),[3,5];case 4:alert("Błąd podczas aktualizacji aukcji"),e.label=5;case 5:return[3,8];case 6:return console.error("Błąd podczas aktualizacji aukcji:",e.sent()),alert("Błąd podczas aktualizacji aukcji"),[3,8];case 7:return tg(!1),[7];case 8:return[2]}})})()},disabled:tb,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:tb?"Zapisywanie...":"Zapisz zmiany"}),(0,d.jsx)("button",{onClick:function(){return ty(null)},className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Anuluj"})]})]})]})})]})})}},3155:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},3664:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},4860:(e,t,a)=>{Promise.resolve().then(a.bind(a,1505)),Promise.resolve().then(a.bind(a,2171)),Promise.resolve().then(a.bind(a,2924))},4926:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5229:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5664:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},5870:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6926:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]])},7161:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},7378:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},7816:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7910:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},9141:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9347:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var s=(0,a(5105).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])}},e=>{e.O(0,[3965,9042,2190,2924,8441,9342,1255,7358],()=>e(e.s=4860)),_N_E=e.O()}]);