(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6173],{368:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var o=(0,n(5105).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},951:(e,t,n)=>{"use strict";n.d(t,{pH:()=>h});var o=n(1983),a=n(5849),i=n(2043),s=n(5155),r=n(5947),l=n(2196),c=(0,n(5105).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),d=n(5239),u=n(2115);function h(e){var t=e.src,n=e.alt,h=e.width,m=e.height,g=e.className,p=void 0===g?"":g,f=e.priority,x=void 0!==f&&f,b=e.quality,v=void 0===b?85:b,y=e.placeholder,w=void 0===y?"empty":y,j=e.blurDataURL,k=e.sizes,N=e.onLoad,C=e.onError,P=e.fitMode,I=void 0===P?"contain":P,z=e.aspectRatio,S=e.cropFocus,A=void 0===S?"center":S,_=(0,i._)((0,u.useState)(!1),2),L=_[0],E=_[1],M=(0,i._)((0,u.useState)(!1),2),R=M[0],D=M[1],B=(0,i._)((0,u.useState)(x),2),O=B[0],Y=B[1],q=(0,u.useRef)(null);(0,u.useEffect)(function(){if(!x&&!O){var e=new IntersectionObserver(function(t){(0,i._)(t,1)[0].isIntersecting&&(Y(!0),e.disconnect())},{threshold:.1,rootMargin:"100px"});return q.current&&e.observe(q.current),function(){return e.disconnect()}}},[x,O,q]);var U=function(){if(!t||"string"!=typeof t)return"";if(t.startsWith("http")||t.startsWith("/api/"))return t;var e=new URLSearchParams;h&&e.set("w",h.toString()),m&&e.set("h",m.toString()),v&&e.set("q",v.toString()),k&&e.set("sizes",k),"cover"===I&&e.set("fit","cover"),"center"!==A&&e.set("crop",A);var n=e.toString();return n?"".concat(t,"?").concat(n):t}();return U?(0,s.jsxs)("div",(0,a._)((0,o._)({ref:q,className:"relative overflow-hidden ".concat(p)},h&&m?{style:{width:h,height:m}}:{}),{children:[!L&&!R&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:(0,s.jsx)(c,{className:"h-6 w-6 animate-spin text-gray-400"})}),R&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(l.A,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Błąd ładowania obrazu"})]})}),"blur"===w&&j&&!L&&!R&&(0,s.jsx)("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm scale-110","data-bg-image":j}),O&&(0,s.jsx)(d.default,{src:U,alt:n,width:h||400,height:m||300,className:"".concat("w-full h-full transition-opacity duration-300"," ").concat(L?"opacity-100":"opacity-0"," ").concat({cover:"object-cover",contain:"object-contain",fill:"object-fill",none:"object-none","scale-down":"object-scale-down"}[I]||"object-contain"," ").concat({square:"aspect-square",video:"aspect-video",portrait:"aspect-[3/4]",landscape:"aspect-[4/3]",auto:""}[void 0===z?"auto":z]||""),onLoad:function(){E(!0),null==N||N()},onError:function(){D(!0),null==C||C()},priority:x,quality:v,sizes:k,placeholder:"blur"===w&&j?"blur":"empty",blurDataURL:j}),L&&(0,s.jsx)(r.P.div,{className:"absolute inset-0 bg-white dark:bg-gray-900",initial:{opacity:1},animate:{opacity:0},transition:{duration:.3}})]})):(0,s.jsx)("div",{className:"relative overflow-hidden ".concat(p),children:(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(l.A,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Brak obrazu"})]})})})}},2196:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var o=(0,n(5105).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},2468:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var o=n(2043),a=n(5155),i=n(5947),s=n(7650),r=n(1629),l=n(4904),c=n(5229),d=n(2115);function u(e){var t=e.image,n=e.onClose,u=e.onPrevious,h=e.onNext,m=e.hasPrevious,g=e.hasNext,p=e.currentIndex,f=e.totalImages,x=(0,o._)((0,d.useState)(1),2),b=x[0],v=x[1],y=(0,o._)((0,d.useState)({x:0,y:0}),2),w=y[0],j=y[1],k=(0,o._)((0,d.useState)(!1),2),N=k[0],C=k[1],P=(0,o._)((0,d.useState)({x:0,y:0}),2),I=P[0],z=P[1],S=(0,o._)((0,d.useState)(!1),2),A=S[0],_=S[1];(0,d.useEffect)(function(){_(!0);var e=window.scrollY;document.body.style.position="fixed",document.body.style.top="-".concat(e,"px"),document.body.style.width="100%",document.body.style.overflow="hidden";var t=function(e){"Escape"===e.key&&(console.log("ESC key pressed"),n())};return window.addEventListener("keydown",t),function(){document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",window.scrollTo(0,e),window.removeEventListener("keydown",t)}},[n]),(0,d.useEffect)(function(){var e=function(e){"ArrowLeft"===e.key&&u&&m?u():"ArrowRight"===e.key&&h&&g&&h()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}},[u,h,m,g]);var L=function(){v(function(e){return Math.min(e+.5,3)})},E=function(){v(function(e){return Math.max(e-.5,.5)})},M=function(){C(!1)};return A?s.createPortal((0,a.jsx)(i.P.div,{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/95 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:function(e){e.target===e.currentTarget&&n()},children:(0,a.jsxs)(i.P.div,{className:"relative w-full h-full max-w-none max-h-none overflow-hidden",initial:{scale:.9},animate:{scale:1},exit:{scale:.9},children:[(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex items-center space-x-2 z-10",children:[(0,a.jsx)("button",{onClick:E,disabled:b<=.5,className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Oddal",children:(0,a.jsx)(r.A,{size:20})}),(0,a.jsxs)("button",{onClick:function(){v(1),j({x:0,y:0})},className:"px-3 py-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors text-sm","aria-label":"Resetuj zoom",children:[Math.round(100*b),"%"]}),(0,a.jsx)("button",{onClick:L,disabled:b>=3,className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Przybliż",children:(0,a.jsx)(l.A,{size:20})})]}),void 0!==p&&f&&f>1&&(0,a.jsxs)("div",{className:"absolute top-4 right-20 px-4 py-2 rounded-full bg-black/50 text-white text-sm font-medium z-10",children:[p+1," / ",f]}),(0,a.jsx)("button",{onClick:function(e){e.stopPropagation(),console.log("Close button clicked"),n()},className:"absolute top-4 right-4 p-2 rounded-full bg-black/70 text-white hover:bg-black/90 transition-colors z-[100] cursor-pointer","aria-label":"Zamknij",children:(0,a.jsx)(c.A,{size:24})}),u&&m&&(0,a.jsx)("div",{className:"absolute left-0 top-0 w-20 h-full flex items-center justify-center opacity-80 hover:opacity-100 transition-opacity duration-300 z-40 group",children:(0,a.jsx)("button",{onClick:u,className:"p-4 rounded-full bg-black/80 text-white hover:bg-black/90 transition-all duration-200 hover:scale-110 shadow-lg","aria-label":"Poprzednie zdjęcie",children:(0,a.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),h&&g&&(0,a.jsx)("div",{className:"absolute right-0 top-0 w-20 h-full flex items-center justify-center opacity-80 hover:opacity-100 transition-opacity duration-300 z-40 group",children:(0,a.jsx)("button",{onClick:h,className:"p-4 rounded-full bg-black/80 text-white hover:bg-black/90 transition-all duration-200 hover:scale-110 shadow-lg","aria-label":"Następne zdjęcie",children:(0,a.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center cursor-grab active:cursor-grabbing bg-black touch-none",onMouseDown:function(e){b>1&&(C(!0),z({x:e.clientX-w.x,y:e.clientY-w.y}))},onMouseMove:function(e){N&&b>1&&j({x:e.clientX-I.x,y:e.clientY-I.y})},onMouseUp:M,onMouseLeave:M,onWheel:function(e){e.cancelable&&(e.preventDefault(),e.stopPropagation()),e.deltaY<0?L():E()},children:(0,a.jsx)(i.P.img,{src:t.src,alt:t.alt,className:"max-w-full max-h-full object-contain",animate:{scale:b,x:w.x/b,y:w.y/b},transition:{type:"spring",stiffness:300,damping:30},drag:N,dragConstraints:{left:0,right:0,top:0,bottom:0},onDrag:function(e,t){b>1&&j({x:w.x+t.delta.x,y:w.y+t.delta.y})}})})]})}),document.body):null}},2993:(e,t,n)=>{Promise.resolve().then(n.bind(n,5084)),Promise.resolve().then(n.bind(n,2924))},5084:(e,t,n)=>{"use strict";n.d(t,{SimpleChampionsList:()=>p});var o=n(1975),a=n(2043),i=n(1450),s=n(5155),r=n(2468),l=n(2115),c=n(951),d=n(1152),u=n(5947),h=n(368),m=n(7937);function g(e){var t=e.champions,n=e.onImageClick,o=e.onPedigreeClick,i=(0,a._)((0,l.useState)(0),2),r=i[0],g=i[1],p=t.flatMap(function(e,t){return e.images.map(function(n,o){return{championId:e.id,imageSrc:n,championIndex:t,imageIndex:o}})});console.log("ChampionsCarousel - Total champions:",t.length),console.log("ChampionsCarousel - Total images:",p.length),console.log("ChampionsCarousel - Champions data:",t.map(function(e){return{id:e.id,imagesCount:e.images.length}}));var f=function(e){g(e)};if(0===p.length)return(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-white",children:"Brak zdjęć champion\xf3w do wyświetlenia."})});var x=function(){var e=[],n=p.length;if(0===n)return e;for(var o=-2;o<=2;o++){var a=(r+o+n)%n,i=p[a],s=t[i.championIndex];e.push({imageData:i,champion:s,position:o,index:a,championIndex:i.championIndex})}return e}();return console.log("Visible images count:",x.length),console.log("Visible images positions:",x.map(function(e){return{position:e.position,championId:e.champion.id}})),(0,s.jsxs)("div",{className:"relative w-full max-w-7xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"relative h-[550px] sm:h-[650px] overflow-hidden",children:[(0,s.jsx)(d.N,{children:x.map(function(e){var t=e.imageData,o=e.champion,a=e.position,i=e.index;return(0,s.jsx)(u.P.div,{className:"absolute inset-0 flex items-start justify-center pt-8 ".concat(0===a?"z-30":-1===a||1===a?"z-20":"z-10"),initial:{x:25*a+"%",scale:0===a?1:-1===a||1===a?.85:.7,opacity:0===a?1:-1===a||1===a?.8:.5},animate:{x:25*a+"%",scale:0===a?1:-1===a||1===a?.85:.7,opacity:0===a?1:-1===a||1===a?.8:.5},exit:{x:-2===a?"-200%":-1===a?"-100%":1===a?"100%":2===a?"200%":"0%",scale:.7,opacity:0},transition:{type:"tween",duration:1.2,ease:"easeInOut"},children:(0,s.jsx)(u.P.div,{className:"relative bg-white/10 backdrop-blur-sm rounded-2xl border-2 border-white overflow-hidden shadow-2xl cursor-pointer ".concat(0===a?"w-[700px] h-[500px]":-1===a||1===a?"w-[560px] h-[400px]":"w-[420px] h-[300px]"),whileHover:{scale:0===a?1.05:-1===a||1===a?.9:.8,boxShadow:"0 0 40px rgba(255, 255, 255, 0.8)",filter:"none",transition:{duration:.8}},onClick:function(){0===a?n(t.imageSrc,i):0!==a&&f(i)},children:(0,s.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,s.jsx)(c.pH,{src:t.imageSrc,alt:"Champion ".concat(o.id," - Zdjęcie ").concat(t.imageIndex+1),width:0,height:0,fitMode:"contain",aspectRatio:"auto",className:"w-full h-full object-contain transition-all duration-500 ".concat(0===a?"grayscale-0":"grayscale"),sizes:"100vw"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]})})},"".concat(t.championId,"-").concat(t.imageIndex,"-").concat(i))})}),p.length>1&&(0,s.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-2",children:p.map(function(e,t){return(0,s.jsx)("button",{onClick:function(){return f(t)},className:"w-2 h-2 rounded-full transition-all duration-300 ".concat(t===r?"bg-white scale-125":"bg-white/50 hover:bg-white/70"),"aria-label":"Przejdź do zdjęcia ".concat(t+1)},t)})}),(0,s.jsx)("div",{className:"absolute bottom-12 left-1/2 transform -translate-x-1/2 z-50",children:(0,s.jsx)("button",{onClick:function(){var e=x.find(function(e){return 0===e.position}),n=e?t[e.championIndex]:t[0],a=(null==n?void 0:n.pedigreeImage)||"/champions/1/pedigree/DV-02906-11-98.1.jpg";console.log("PRZYCISK KLIKNIĘTY!"),console.log("Current champion:",null==n?void 0:n.id),console.log("Pedigree:",a),o(a)},className:"bg-red-500 text-white px-4 py-2 rounded text-lg font-bold hover:bg-red-600 transition-colors",children:"RODOW\xd3D"})})]}),p.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){g(function(e){return(e-1+p.length)%p.length})},className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 z-30 p-2 sm:p-3 rounded-full bg-black/50 hover:bg-black/70 text-white transition-all duration-300 hover:scale-110","aria-label":"Poprzedni champion",children:(0,s.jsx)(h.A,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,s.jsx)("button",{onClick:function(){g(function(e){return(e+1)%p.length})},className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 z-30 p-2 sm:p-3 rounded-full bg-black/50 hover:bg-black/70 text-white transition-all duration-300 hover:scale-110","aria-label":"Następny champion",children:(0,s.jsx)(m.A,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}function p(){var e=(0,a._)((0,l.useState)(null),2),t=e[0],n=e[1],c=(0,a._)((0,l.useState)([]),2),d=c[0],u=c[1],h=(0,a._)((0,l.useState)(null),2),m=h[0],p=h[1],f=(0,a._)((0,l.useState)(!0),2),x=f[0],b=f[1],v=(0,a._)((0,l.useState)([]),2),y=v[0],w=v[1],j=(0,a._)((0,l.useState)(null),2),k=j[0],N=j[1];(0,l.useEffect)(function(){(0,o._)(function(){var e,t,n,o;return(0,i.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),b(!0),console.log("Fetching champions from API..."),[4,fetch("/api/champions/images")];case 1:if(console.log("API response status:",(e=a.sent()).status),console.log("API response ok:",e.ok),!e.ok)throw Error("Nie udało się pobrać danych champion\xf3w");return[4,e.json()];case 2:return console.log("API response data:",t=a.sent()),console.log("Champions data from API:",n=t.champions||[]),console.log("Processed champions list:",o=n.map(function(e){var t,n=Array.isArray(e.images)?e.images:[];console.log("Raw API images for champion",e.id,":",n);var o=n.map(function(e){return"string"==typeof e?e:"object"==typeof e&&null!==e?String(e.url||""):""}).filter(Boolean),a="";return console.log("Champion data pedigree:",e.pedigree),(null==(t=e.pedigree)?void 0:t.images)&&e.pedigree.images.length>0?console.log("Using API pedigree image:",a=e.pedigree.images[0]):console.log("Using fallback pedigree image:",a="/champions/".concat(e.id,"/pedigree/").concat(e.ringNumber||"pedigree",".1.jpg")),console.log("Processed champion:",e.id,"Gallery length:",o.length,"Gallery:",o),console.log("Pedigree data for champion",e.id,":",e.pedigree),console.log("Final pedigreeImage:",a),{id:String(e.id||""),images:o,pedigreeImage:a}}).filter(function(e){return e&&e.id})),console.log("Champions list length:",o.length),u(o),console.log("Loaded champions:",o),w(o.flatMap(function(e){return e.images.map(function(e){return{src:e,alt:"Zdjęcie championa"}})}).slice(0,20)),[3,5];case 3:return console.error("Błąd podczas ładowania champion\xf3w:",a.sent()),[3,5];case 4:return b(!1),[7];case 5:return[2]}})})()},[]);var C=function(e,t){n({src:e,alt:"Zdjęcie ".concat(t+1)}),p(t)};return x?(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"}),(0,s.jsx)("span",{className:"ml-4 text-white",children:"Ładowanie champion\xf3w..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{champions:d,onImageClick:C,onPedigreeClick:function(e){console.log("=== onPedigreeClick CALLED ==="),console.log("Pedigree image received:",e),console.log("Setting selectedPedigreeImage to:",e),N(e),console.log("selectedPedigreeImage set successfully"),console.log("=== END onPedigreeClick ===")}}),t&&null!==m&&(0,s.jsx)(r.A,{image:{id:"champion-image-".concat(m),src:t.src,alt:t.alt},onClose:function(){n(null),p(null)},onPrevious:m>0?function(){return C(y[m-1].src,m-1)}:void 0,onNext:m<y.length-1?function(){return C(y[m+1].src,m+1)}:void 0,hasPrevious:m>0,hasNext:m<y.length-1,currentIndex:m,totalImages:y.length}),k&&(0,s.jsx)(r.A,{image:{id:"pedigree-image",src:k,alt:"Rodow\xf3d championa"},onClose:function(){console.log("Closing pedigree modal"),N(null)}}),!1]})}},7937:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var o=(0,n(5105).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},e=>{e.O(0,[3965,9042,2190,7410,2924,8441,9342,1255,7358],()=>e(e.s=2993)),_N_E=e.O()}]);