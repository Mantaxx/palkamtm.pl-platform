"use strict";exports.id=3092,exports.ids=[3092],exports.modules={67063:(a,b,c)=>{c.d(b,{UnifiedLayout:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call UnifiedLayout() from the server but UnifiedLayout is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\manta\\Desktop\\wwwwww\\components\\layout\\UnifiedLayout.tsx","UnifiedLayout")},67612:(a,b,c)=>{c.d(b,{default:()=>x});var d=c(21124),e=c(69957),f=c(47089),g=c(88285),h=c(38301);function i({value:a,onChange:b,onLocationSelect:c,placeholder:i="Wpisz lokalizację...",className:j="",error:k}){let[l,m]=(0,h.useState)([]),[n,o]=(0,h.useState)(!1),[p,q]=(0,h.useState)(!1),[r,s]=(0,h.useState)(-1),t=(0,h.useRef)(null),u=(0,h.useRef)(null),v=(0,h.useRef)(),w=async a=>{if(a.length<2){m([]),o(!1);return}q(!0);try{let b=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(a)}&countrycodes=pl&limit=10&addressdetails=1&extratags=1&namedetails=1`);if(b.ok){let a=await b.json();console.log("\uD83D\uDCCD Location suggestions:",a),m(a),o(a.length>0),s(-1)}}catch(a){console.error("Error fetching location suggestions:",a),m([]),o(!1)}finally{q(!1)}},x=a=>{b(a.display_name),o(!1),m([]),c&&c(a)};return(0,d.jsxs)("div",{className:`relative ${j}`,children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,d.jsx)(e.A,{className:"h-4 w-4 text-gray-500"})}),(0,d.jsx)("input",{ref:t,type:"text",value:a,onChange:a=>{let c=a.target.value;console.log("\uD83D\uDCCD Input change:",c),b(c),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{w(c)},300)},onKeyDown:a=>{if(n&&0!==l.length)switch(a.key){case"ArrowDown":a.preventDefault(),s(a=>a<l.length-1?a+1:a);break;case"ArrowUp":a.preventDefault(),s(a=>a>0?a-1:-1);break;case"Enter":a.preventDefault(),r>=0&&r<l.length&&x(l[r]);break;case"Escape":o(!1),s(-1)}},onFocus:()=>{l.length>0&&o(!0)},className:`w-full pl-10 pr-10 py-2 bg-white/50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400 text-black placeholder-gray-500 ${k?"border-red-500":""}`,placeholder:i}),(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:p?(0,d.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a?(0,d.jsx)("button",{type:"button",onClick:()=>{b(""),o(!1),m([])},className:"text-gray-500 hover:text-black transition-colors",title:"Wyczyść lokalizację","aria-label":"Wyczyść lokalizację",children:(0,d.jsx)(f.A,{className:"h-4 w-4"})}):(0,d.jsx)(g.A,{className:"h-4 w-4 text-gray-500"})})]}),n&&l.length>0&&(0,d.jsx)("div",{ref:u,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:l.map((a,b)=>(0,d.jsx)("div",{onClick:()=>x(a),className:`px-4 py-3 cursor-pointer transition-colors ${b===r?"bg-gray-100 text-black":"text-gray-700 hover:bg-gray-50 hover:text-black"}`,children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(e.A,{className:"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-black truncate",children:(a=>{let{address:b}=a,c=[];return b.city?c.push(b.city):b.town?c.push(b.town):b.village&&c.push(b.village),b.county&&c.push(b.county),b.state&&c.push(b.state),b.postcode&&c.push(b.postcode),b.country&&"Polska"!==b.country&&c.push(b.country),c.join(", ")})(a)}),(0,d.jsx)("p",{className:"text-xs text-gray-500 truncate",children:(a=>{let{address:b}=a,c=[];return(b.city||b.town||b.village)&&c.push(b.city||b.town||b.village),b.county&&c.push(b.county),b.state&&c.push(b.state),b.postcode&&c.push(b.postcode),c.join(", ")})(a)})]})]})},`${a.lat}-${a.lon}`))}),k&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k})]})}var j=c(50937),k=c(9212),l=c(46148),m=c(87278),n=c(3663),o=c(57461),p=c(24515),q=c(3991),r=c.n(q),s=c(42378),t=c(53537),u=c(31980),v=c(99546);let w=v.Ik({category:v.k5(["Pigeon","Supplements","Accessories"],{required_error:"Wybierz kategorię"}),title:v.Yj().min(5,"Tytuł musi mieć co najmniej 5 znak\xf3w"),description:v.Yj().min(20,"Opis musi mieć co najmniej 20 znak\xf3w"),ringNumber:v.Yj().optional(),bloodline:v.Yj().optional(),sex:v.k5(["male","female"]).optional(),pedigreeFile:v.bz().optional(),eyeColor:v.Yj().optional(),featherColor:v.Yj().optional(),purpose:v.YO(v.Yj()).optional(),size:v.Yj().optional(),bodyStructure:v.Yj().optional(),vitality:v.Yj().optional(),colorDensity:v.Yj().optional(),length:v.Yj().optional(),endurance:v.Yj().optional(),startingPrice:v.ai().min(0,"Cena wywoławcza nie może być ujemna").optional(),buyNowPrice:v.ai().optional(),duration:v.ai().min(1).max(30),location:v.Yj().min(2,"Wybierz lokalizację z listy").optional()}).refine(a=>a.startingPrice||a.buyNowPrice,{message:"Musisz podać przynajmniej jedną cenę (wywoławczą lub Kup teraz)",path:["startingPrice"]});function x({onSuccess:a,onCancel:b,showHeader:c=!0}){let{data:e,status:g}=(0,o.useSession)(),q=(0,s.useRouter)(),[v,x]=(0,h.useState)([]),[y,z]=(0,h.useState)([]),[A,B]=(0,h.useState)([]),[C,D]=(0,h.useState)(!1),[E,F]=(0,h.useState)(null),[G,H]=(0,h.useState)(!0),[I,J]=(0,h.useState)(!1),[K,L]=(0,h.useState)(null),{register:M,handleSubmit:N,watch:O,setValue:P,formState:{errors:Q}}=(0,u.mN)({resolver:(0,j.u)(w),mode:"onChange"}),R=O("category"),S=(a,b)=>{let c=a.type.startsWith("video/")?"video":a.type.startsWith("image/")?"image":"document";return{id:Math.random().toString(36).substr(2,9),file:a,preview:URL.createObjectURL(a),type:c,category:b}},{getRootProps:T,getInputProps:U,isDragActive:V}=(0,t.VB)({onDrop:a=>{let b=a.map(a=>S(a,"pigeon_images"));x(a=>[...a,...b])},accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxFiles:8}),{getRootProps:W,getInputProps:X,isDragActive:Y}=(0,t.VB)({onDrop:a=>{let b=a.map(a=>S(a,"videos"));z(a=>[...a,...b])},accept:{"video/*":[".mp4",".mov",".avi"]},maxFiles:3}),{getRootProps:Z,getInputProps:$,isDragActive:_}=(0,t.VB)({onDrop:a=>{let b=a.map(a=>S(a,"pedigree"));B(a=>[...a,...b])},accept:{"image/*":[".jpeg",".jpg",".png",".webp"],"application/pdf":[".pdf"]},maxFiles:2}),aa=a=>{F(a)},ab=()=>{F(null)},ac=async b=>{console.log("\uD83D\uDE80 ONSUBMIT STARTED!"),console.log("\uD83D\uDCDD Form data:",b),D(!0);try{let c=[],d=[],e=[];if(v.length>0){let a=new FormData;a.append("type","image"),v.forEach(b=>{a.append("files",b.file)});let b=await fetch("/api/upload",{method:"POST",body:a});if(b.ok)c=(await b.json()).files||[];else{let a=await b.json();console.error("Błąd uploadu obraz\xf3w:",a)}}if(y.length>0){let a=new FormData;a.append("type","video"),y.forEach(b=>{a.append("files",b.file)});let b=await fetch("/api/upload",{method:"POST",body:a});if(b.ok)d=(await b.json()).files||[];else{let a=await b.json();console.error("Błąd uploadu film\xf3w:",a)}}if(A.length>0){let a=new FormData;a.append("type","document"),A.forEach(b=>{a.append("files",b.file)});let b=await fetch("/api/upload",{method:"POST",body:a});if(b.ok)e=(await b.json()).files||[];else{let a=await b.json();console.error("Błąd uploadu dokument\xf3w:",a)}}let f=new Date,g=new Date(f.getTime()+24*(b.duration||7)*36e5),h={title:b.title,description:b.description,category:b.category,startingPrice:G&&b.startingPrice&&!isNaN(b.startingPrice)?b.startingPrice:0,buyNowPrice:I&&b.buyNowPrice&&!isNaN(b.buyNowPrice)?b.buyNowPrice:void 0,startTime:f.toISOString(),endTime:g.toISOString(),images:c,videos:d,documents:e,location:b.location||"Nie podano",locationData:K?{lat:parseFloat(K.lat),lon:parseFloat(K.lon),displayName:K.display_name,address:K.address}:null,..."Pigeon"===b.category&&{pigeon:{ringNumber:b.ringNumber,bloodline:b.bloodline,sex:b.sex,eyeColor:b.eyeColor,featherColor:b.featherColor,purpose:b.purpose||[],size:b.size,bodyStructure:b.bodyStructure,vitality:b.vitality,colorDensity:b.colorDensity,length:b.length,endurance:b.endurance}}},i=await fetch("/api/auctions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(i.ok){let b=await i.json();console.log("✅ Aukcja utworzona pomyślnie:",b),alert("✅ Aukcja została utworzona pomyślnie!"),a?a():(q.push("/auctions"),setTimeout(()=>{window.location.reload()},100))}else{let a=await i.json();console.error("❌ Błąd API:",a),alert("❌ Wystąpił błąd podczas tworzenia aukcji: "+(a.message||"Nieznany błąd"))}}catch(a){console.error("❌ Błąd podczas tworzenia aukcji:",a),alert("❌ Wystąpił błąd podczas tworzenia aukcji")}finally{D(!1)}};return"loading"===g?(0,d.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,d.jsx)("p",{children:"Ładowanie sesji..."})}):"unauthenticated"!==g&&e?.user?(0,d.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl border-2 border-white rounded-2xl shadow-[0_0_14px_3px_rgba(255,255,255,0.55)] max-h-[95vh] overflow-y-auto text-black relative",children:[(0,d.jsxs)("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[(0,d.jsx)("button",{onClick:()=>{P("title",""),P("description",""),P("category","Pigeon"),P("ringNumber",""),P("bloodline",""),P("sex",void 0),P("eyeColor",""),P("featherColor",""),P("purpose",[]),P("startingPrice",void 0),P("buyNowPrice",void 0),P("location",""),P("duration",7),L(null)},className:"w-8 h-8 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center transition-colors",title:"Odśwież formularz",children:(0,d.jsx)(k.A,{className:"w-4 h-4"})}),(0,d.jsx)("button",{onClick:()=>{b?b():q.push("/auctions")},className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors",title:"Zamknij",children:(0,d.jsx)(f.A,{className:"w-4 h-4"})})]}),(0,d.jsxs)("form",{onSubmit:N(ac),className:"p-4",children:[c&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h1",{className:"text-xl font-bold text-black mb-1",children:"Utw\xf3rz nową aukcję"}),(0,d.jsx)("p",{className:"text-black/90 text-sm",children:"Wypełnij wszystkie wymagane pola i opublikuj swoją aukcję"})]}),(0,d.jsx)("h2",{className:"text-sm font-semibold text-black mb-2",children:"Kategoria *"}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[{value:"Pigeon",label:"Gołąb Pocztowy",icon:"\uD83D\uDC26"},{value:"Supplements",label:"Suplementy",icon:"\uD83D\uDC8A"},{value:"Accessories",label:"Akcesoria",icon:"\uD83C\uDFE0"}].map(a=>(0,d.jsxs)("label",{className:`relative flex flex-col items-center p-2 border-2 rounded-lg cursor-pointer transition-colors ${R===a.value?"border-white bg-white/20":"border-white/30 bg-white/10 hover:border-white/50 hover:bg-white/15"}`,children:[(0,d.jsx)("input",{type:"radio",value:a.value,...M("category"),className:"sr-only"}),(0,d.jsx)("span",{className:"text-xl mb-1",children:a.icon}),(0,d.jsx)("span",{className:"text-xs font-medium text-black",children:a.label})]},a.value))}),Q.category&&(0,d.jsx)("p",{className:"text-red-600 text-xs mb-3",children:Q.category.message}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Tytuł aukcji *"}),(0,d.jsx)("input",{type:"text",...M("title"),className:"w-full px-3 py-2 bg-white/50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400 text-black placeholder-gray-500"}),Q.title&&(0,d.jsx)("p",{className:"text-red-600 text-sm mt-1",children:Q.title.message})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Lokalizacja *"}),(0,d.jsx)(i,{value:O("location")||"",onChange:a=>{P("location",a)},onLocationSelect:a=>{L(a)},error:Q.location?.message})]})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Opis *"}),(0,d.jsx)("textarea",{...M("description"),rows:2,className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"}),Q.description&&(0,d.jsx)("p",{className:"text-red-600 text-xs mt-1",children:Q.description.message})]}),"Pigeon"===R&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Numer obrączki"}),(0,d.jsx)("input",{type:"text",...M("ringNumber"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Linia krwi"}),(0,d.jsx)("input",{type:"text",...M("bloodline"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Płeć"}),(0,d.jsxs)("select",{...M("sex"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,d.jsx)("option",{value:"",children:"Wybierz"}),(0,d.jsx)("option",{value:"male",children:"Samiec"}),(0,d.jsx)("option",{value:"female",children:"Samica"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Kolor oczu"}),(0,d.jsxs)("select",{...M("eyeColor"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,d.jsx)("option",{value:"",children:"Wybierz"}),(0,d.jsx)("option",{value:"yellow",children:"Ż\xf3łte"}),(0,d.jsx)("option",{value:"red",children:"Czerwone"}),(0,d.jsx)("option",{value:"glass",children:"Szklane"}),(0,d.jsx)("option",{value:"mixed",children:"Mieszane"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Kolor upierzenia"}),(0,d.jsxs)("select",{...M("featherColor"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,d.jsx)("option",{value:"",children:"Wybierz"}),(0,d.jsx)("option",{value:"speckled",children:"Nakrapiany"}),(0,d.jsx)("option",{value:"blue",children:"Niebieski"}),(0,d.jsx)("option",{value:"blue_white_flight",children:"Niebieski białolot"}),(0,d.jsx)("option",{value:"speckled_white_flight",children:"Nakrapiany białolot"}),(0,d.jsx)("option",{value:"red",children:"Czerwony"}),(0,d.jsx)("option",{value:"dun",children:"Płowy"}),(0,d.jsx)("option",{value:"dark",children:"Ciemny"}),(0,d.jsx)("option",{value:"mottled",children:"Pstry"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Czas trwania aukcji"}),(0,d.jsxs)("select",{...M("duration",{valueAsNumber:!0}),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,d.jsx)("option",{value:1,children:"1 dzień"}),(0,d.jsx)("option",{value:3,children:"3 dni"}),(0,d.jsx)("option",{value:7,children:"7 dni"}),(0,d.jsx)("option",{value:14,children:"14 dni"}),(0,d.jsx)("option",{value:30,children:"30 dni"})]})]})]}),(0,d.jsxs)("div",{className:"mb-2",children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Przeznaczenie"}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-1",children:["Kr\xf3tki dystans","Średni dystans","Długi dystans"].map(a=>(0,d.jsxs)("label",{className:"flex items-center space-x-1 text-black text-xs",children:[(0,d.jsx)("input",{type:"checkbox",value:a,...M("purpose"),className:"rounded border-gray-300 bg-white/50 text-black focus:ring-gray-400"}),(0,d.jsx)("span",{children:a})]},a))})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("input",{type:"checkbox",checked:G,onChange:a=>H(a.target.checked),className:"text-gray-600 focus:ring-gray-500",title:"Zaznacz aby włączyć licytację"}),(0,d.jsx)("label",{className:"text-xs font-medium text-black",children:"Cena wywoławcza (zł)"})]}),(0,d.jsx)("input",{type:"number",...M("startingPrice",{valueAsNumber:!0}),disabled:!G,className:`w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500 ${!G?"bg-gray-200":"bg-white/50"}`}),Q.startingPrice&&(0,d.jsx)("p",{className:"text-red-600 text-xs mt-1",children:Q.startingPrice.message})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("input",{type:"checkbox",checked:I,onChange:a=>J(a.target.checked),className:"text-gray-600 focus:ring-gray-500",title:"Zaznacz aby włączyć opcję Kup teraz"}),(0,d.jsx)("label",{className:"text-xs font-medium text-black",children:"Cena Kup teraz (zł)"})]}),(0,d.jsx)("input",{type:"number",...M("buyNowPrice",{valueAsNumber:!0}),disabled:!I,className:`w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500 ${!I?"bg-gray-200":"bg-white/50"}`}),Q.buyNowPrice&&(0,d.jsx)("p",{className:"text-red-600 text-xs mt-1",children:Q.buyNowPrice.message})]})]}),(0,d.jsxs)("div",{className:"mb-2",children:[(0,d.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Pliki *"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Zdjęcia i filmy *"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)("div",{...T(),className:`border border-dashed rounded p-2 text-center cursor-pointer transition-colors ${V?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"}`,children:[(0,d.jsx)("input",{...U()}),(0,d.jsx)(l.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,d.jsx)("p",{className:"text-xs text-black",children:"Zdjęcia"}),(0,d.jsxs)("p",{className:"text-xs text-black/60",children:["(",v.length,"/8)"]})]}),(0,d.jsxs)("div",{...W(),className:`border border-dashed rounded p-2 text-center cursor-pointer transition-colors ${Y?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"}`,children:[(0,d.jsx)("input",{...X()}),(0,d.jsx)(m.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,d.jsx)("p",{className:"text-xs text-black",children:"Filmy"}),(0,d.jsxs)("p",{className:"text-xs text-black/60",children:["(",y.length,"/3)"]})]})]}),v.length>0&&(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("div",{className:"space-y-1",children:v.map(a=>(0,d.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>aa(a.preview),title:"Kliknij aby powiększyć",children:(0,d.jsx)(p.default,{src:a.preview,alt:"Preview",width:100,height:100,className:"w-full h-full object-cover"})}),(0,d.jsx)("span",{className:"text-xs text-black truncate flex-1",children:a.file.name}),(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void x(a=>a.filter(a=>a.id!==b))},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,d.jsx)(f.A,{className:"w-2 h-2"})})]},a.id))})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Rodow\xf3d *"}),"Pigeon"===R&&(0,d.jsxs)("div",{...Z(),className:`border border-dashed rounded p-2 text-center cursor-pointer transition-colors ${_?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"}`,children:[(0,d.jsx)("input",{...$()}),(0,d.jsx)(n.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,d.jsx)("p",{className:"text-xs text-black",children:"Rodow\xf3d"}),(0,d.jsxs)("p",{className:"text-xs text-black/60",children:["(",A.length,"/2)"]})]}),A.length>0&&"Pigeon"===R&&(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("div",{className:"space-y-1",children:A.map(a=>(0,d.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,d.jsx)("div",{className:`w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex-shrink-0 ${"image"===a.type?"cursor-pointer hover:opacity-80 transition-opacity":""}`,onClick:"image"===a.type?()=>aa(a.preview):void 0,title:"image"===a.type?"Kliknij aby powiększyć":void 0,children:"image"===a.type?(0,d.jsx)(p.default,{src:a.preview,alt:"Preview",width:100,height:100,className:"w-full h-full object-cover"}):(0,d.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-gray-500 text-xs",children:"PDF"})})}),(0,d.jsx)("span",{className:"text-xs text-black truncate flex-1",children:a.file.name}),(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void B(a=>a.filter(a=>a.id!==b))},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,d.jsx)(f.A,{className:"w-2 h-2"})})]},a.id))})})]})]}),y.length>0&&(0,d.jsx)("div",{className:"mt-3 space-y-2",children:y.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-black/60 mb-1",children:"Filmy:"}),(0,d.jsx)("div",{className:"space-y-1",children:y.map(a=>(0,d.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(m.A,{className:"w-4 h-4 text-gray-500"})}),(0,d.jsx)("span",{className:"text-xs text-black truncate flex-1",children:a.file.name}),(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void z(a=>a.filter(a=>a.id!==b))},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,d.jsx)(f.A,{className:"w-2 h-2"})})]},a.id))})]})})]}),(0,d.jsx)("div",{className:"flex justify-end mt-8 pt-6 border-t border-white/20",children:(0,d.jsx)("button",{type:"submit",disabled:C,className:"flex items-center gap-2 px-8 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:C?"Publikuję...":"Opublikuj aukcję"})})]}),E&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:ab,children:(0,d.jsxs)("div",{className:"relative max-w-4xl max-h-4xl p-4",children:[(0,d.jsx)("button",{onClick:ab,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center z-10",title:"Zamknij",children:(0,d.jsx)(f.A,{className:"w-4 h-4"})}),(0,d.jsx)(p.default,{src:E,alt:"Podgląd",width:800,height:600,className:"max-w-full max-h-full object-contain rounded-lg",onClick:a=>a.stopPropagation()})]})})]}):(0,d.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:(0,d.jsxs)("p",{className:"text-xs text-red-700",children:["Musisz być zalogowany, aby utworzyć aukcję.",(0,d.jsx)(r(),{href:"/auth/signin",className:"font-medium underline text-red-800 hover:text-red-900 ml-2",children:"Zaloguj się"})]})})}}};