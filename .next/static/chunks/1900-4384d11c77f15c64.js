"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1900],{5194:(e,t,a)=>{a.d(t,{default:()=>N});var s=a(5155),i=a(1873),l=a(5229),r=a(6651),n=a(2115);function o(e){let{value:t,onChange:a,onLocationSelect:o,placeholder:c="Wpisz lokalizację...",className:d="",error:x}=e,[m,h]=(0,n.useState)([]),[u,p]=(0,n.useState)(!1),[b,g]=(0,n.useState)(!1),[j,f]=(0,n.useState)(-1),y=(0,n.useRef)(null),w=(0,n.useRef)(null),v=(0,n.useRef)(),N=async e=>{if(e.length<2){h([]),p(!1);return}g(!0);try{let t=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(e),"&countrycodes=pl&limit=10&addressdetails=1&extratags=1&namedetails=1"));if(t.ok){let e=await t.json();console.log("\uD83D\uDCCD Location suggestions:",e),h(e),p(e.length>0),f(-1)}}catch(e){console.error("Error fetching location suggestions:",e),h([]),p(!1)}finally{g(!1)}},k=e=>{a(e.display_name),p(!1),h([]),o&&o(e)};return(0,n.useEffect)(()=>{let e=e=>{w.current&&!w.current.contains(e.target)&&y.current&&!y.current.contains(e.target)&&(p(!1),f(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.useEffect)(()=>()=>{v.current&&clearTimeout(v.current)},[]),(0,s.jsxs)("div",{className:"relative ".concat(d),children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(i.A,{className:"h-4 w-4 text-gray-500"})}),(0,s.jsx)("input",{ref:y,type:"text",value:t,onChange:e=>{let t=e.target.value;console.log("\uD83D\uDCCD Input change:",t),a(t),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{N(t)},300)},onKeyDown:e=>{if(u&&0!==m.length)switch(e.key){case"ArrowDown":e.preventDefault(),f(e=>e<m.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),f(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),j>=0&&j<m.length&&k(m[j]);break;case"Escape":p(!1),f(-1)}},onFocus:()=>{m.length>0&&p(!0)},className:"w-full pl-10 pr-10 py-2 bg-white/50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400 text-black placeholder-gray-500 ".concat(x?"border-red-500":""),placeholder:c}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b?(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):t?(0,s.jsx)("button",{type:"button",onClick:()=>{a(""),p(!1),h([])},className:"text-gray-500 hover:text-black transition-colors",title:"Wyczyść lokalizację","aria-label":"Wyczyść lokalizację",children:(0,s.jsx)(l.A,{className:"h-4 w-4"})}):(0,s.jsx)(r.A,{className:"h-4 w-4 text-gray-500"})})]}),u&&m.length>0&&(0,s.jsx)("div",{ref:w,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:m.map((e,t)=>(0,s.jsx)("div",{onClick:()=>k(e),className:"px-4 py-3 cursor-pointer transition-colors ".concat(t===j?"bg-gray-100 text-black":"text-gray-700 hover:bg-gray-50 hover:text-black"),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(i.A,{className:"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-black truncate",children:(e=>{let{address:t}=e,a=[];return t.city?a.push(t.city):t.town?a.push(t.town):t.village&&a.push(t.village),t.county&&a.push(t.county),t.state&&a.push(t.state),t.postcode&&a.push(t.postcode),t.country&&"Polska"!==t.country&&a.push(t.country),a.join(", ")})(e)}),(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:(e=>{let{address:t}=e,a=[];return(t.city||t.town||t.village)&&a.push(t.city||t.town||t.village),t.county&&a.push(t.county),t.state&&a.push(t.state),t.postcode&&a.push(t.postcode),a.join(", ")})(e)})]})]})},"".concat(e.lat,"-").concat(e.lon)))}),x&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x})]})}var c=a(6942),d=a(8314),x=a(2196),m=a(890),h=a(9715),u=a(6489),p=a(5239),b=a(2619),g=a.n(b),j=a(63),f=a(4054),y=a(2544),w=a(4879);let v=w.Ik({category:w.k5(["Pigeon","Supplements","Accessories"],{required_error:"Wybierz kategorię"}),title:w.Yj().min(5,"Tytuł musi mieć co najmniej 5 znak\xf3w"),description:w.Yj().min(20,"Opis musi mieć co najmniej 20 znak\xf3w"),ringNumber:w.Yj().optional(),bloodline:w.Yj().optional(),sex:w.k5(["male","female"]).optional(),pedigreeFile:w.bz().optional(),eyeColor:w.Yj().optional(),featherColor:w.Yj().optional(),purpose:w.YO(w.Yj()).optional(),size:w.Yj().optional(),bodyStructure:w.Yj().optional(),vitality:w.Yj().optional(),colorDensity:w.Yj().optional(),length:w.Yj().optional(),endurance:w.Yj().optional(),startingPrice:w.ai().min(0,"Cena wywoławcza nie może być ujemna").optional(),buyNowPrice:w.ai().optional(),duration:w.ai().min(1).max(30),location:w.Yj().min(2,"Wybierz lokalizację z listy").optional()}).refine(e=>e.startingPrice||e.buyNowPrice,{message:"Musisz podać przynajmniej jedną cenę (wywoławczą lub Kup teraz)",path:["startingPrice"]});function N(e){var t;let{onSuccess:a,onCancel:i,showHeader:r=!0}=e,{data:b,status:w}=(0,u.useSession)(),N=(0,j.useRouter)(),[k,z]=(0,n.useState)([]),[P,C]=(0,n.useState)([]),[S,A]=(0,n.useState)([]),[D,T]=(0,n.useState)(!1),[_,O]=(0,n.useState)(null),[F,R]=(0,n.useState)(!0),[W,M]=(0,n.useState)(!1),[Y,K]=(0,n.useState)(null),{register:E,handleSubmit:U,watch:I,setValue:L,formState:{errors:B}}=(0,y.mN)({resolver:(0,c.u)(v),mode:"onChange"}),Z=I("category"),G=(e,t)=>{let a=e.type.startsWith("video/")?"video":e.type.startsWith("image/")?"image":"document";return{id:Math.random().toString(36).substr(2,9),file:e,preview:URL.createObjectURL(e),type:a,category:t}},{getRootProps:V,getInputProps:q,isDragActive:J}=(0,f.VB)({onDrop:e=>{let t=e.map(e=>G(e,"pigeon_images"));z(e=>[...e,...t])},accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxFiles:8}),{getRootProps:H,getInputProps:Q,isDragActive:X}=(0,f.VB)({onDrop:e=>{let t=e.map(e=>G(e,"videos"));C(e=>[...e,...t])},accept:{"video/*":[".mp4",".mov",".avi"]},maxFiles:3}),{getRootProps:$,getInputProps:ee,isDragActive:et}=(0,f.VB)({onDrop:e=>{let t=e.map(e=>G(e,"pedigree"));A(e=>[...e,...t])},accept:{"image/*":[".jpeg",".jpg",".png",".webp"],"application/pdf":[".pdf"]},maxFiles:2}),ea=e=>{O(e)},es=()=>{O(null)},ei=async e=>{console.log("\uD83D\uDE80 ONSUBMIT STARTED!"),console.log("\uD83D\uDCDD Form data:",e),T(!0);try{let t=[],s=[],i=[];if(k.length>0){let e=new FormData;e.append("type","image"),k.forEach(t=>{e.append("files",t.file)});let a=await fetch("/api/upload",{method:"POST",body:e});if(a.ok)t=(await a.json()).files||[];else{let e=await a.json();console.error("Błąd uploadu obraz\xf3w:",e)}}if(P.length>0){let e=new FormData;e.append("type","video"),P.forEach(t=>{e.append("files",t.file)});let t=await fetch("/api/upload",{method:"POST",body:e});if(t.ok)s=(await t.json()).files||[];else{let e=await t.json();console.error("Błąd uploadu film\xf3w:",e)}}if(S.length>0){let e=new FormData;e.append("type","document"),S.forEach(t=>{e.append("files",t.file)});let t=await fetch("/api/upload",{method:"POST",body:e});if(t.ok)i=(await t.json()).files||[];else{let e=await t.json();console.error("Błąd uploadu dokument\xf3w:",e)}}let l=new Date,r=new Date(l.getTime()+24*(e.duration||7)*36e5),n={title:e.title,description:e.description,category:e.category,startingPrice:F&&e.startingPrice&&!isNaN(e.startingPrice)?e.startingPrice:0,buyNowPrice:W&&e.buyNowPrice&&!isNaN(e.buyNowPrice)?e.buyNowPrice:void 0,startTime:l.toISOString(),endTime:r.toISOString(),images:t,videos:s,documents:i,location:e.location||"Nie podano",locationData:Y?{lat:parseFloat(Y.lat),lon:parseFloat(Y.lon),displayName:Y.display_name,address:Y.address}:null,..."Pigeon"===e.category&&{pigeon:{ringNumber:e.ringNumber,bloodline:e.bloodline,sex:e.sex,eyeColor:e.eyeColor,featherColor:e.featherColor,purpose:e.purpose||[],size:e.size,bodyStructure:e.bodyStructure,vitality:e.vitality,colorDensity:e.colorDensity,length:e.length,endurance:e.endurance}}},o=await fetch("/api/auctions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(o.ok){let e=await o.json();console.log("✅ Aukcja utworzona pomyślnie:",e),alert("✅ Aukcja została utworzona pomyślnie!"),a?a():(N.push("/auctions"),setTimeout(()=>{window.location.reload()},100))}else{let e=await o.json();console.error("❌ Błąd API:",e),alert("❌ Wystąpił błąd podczas tworzenia aukcji: "+(e.message||"Nieznany błąd"))}}catch(e){console.error("❌ Błąd podczas tworzenia aukcji:",e),alert("❌ Wystąpił błąd podczas tworzenia aukcji")}finally{T(!1)}};return"loading"===w?(0,s.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,s.jsx)("p",{children:"Ładowanie sesji..."})}):"unauthenticated"!==w&&(null==b?void 0:b.user)?(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl border-2 border-white rounded-2xl shadow-[0_0_14px_3px_rgba(255,255,255,0.55)] max-h-[95vh] overflow-y-auto text-black relative",children:[(0,s.jsxs)("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[(0,s.jsx)("button",{onClick:()=>{L("title",""),L("description",""),L("category","Pigeon"),L("ringNumber",""),L("bloodline",""),L("sex",void 0),L("eyeColor",""),L("featherColor",""),L("purpose",[]),L("startingPrice",void 0),L("buyNowPrice",void 0),L("location",""),L("duration",7),K(null)},className:"w-8 h-8 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center transition-colors",title:"Odśwież formularz",children:(0,s.jsx)(d.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>{i?i():N.push("/auctions")},className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors",title:"Zamknij",children:(0,s.jsx)(l.A,{className:"w-4 h-4"})})]}),(0,s.jsxs)("form",{onSubmit:U(ei),className:"p-4",children:[r&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-black mb-1",children:"Utw\xf3rz nową aukcję"}),(0,s.jsx)("p",{className:"text-black/90 text-sm",children:"Wypełnij wszystkie wymagane pola i opublikuj swoją aukcję"})]}),(0,s.jsx)("h2",{className:"text-sm font-semibold text-black mb-2",children:"Kategoria *"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[{value:"Pigeon",label:"Gołąb Pocztowy",icon:"\uD83D\uDC26"},{value:"Supplements",label:"Suplementy",icon:"\uD83D\uDC8A"},{value:"Accessories",label:"Akcesoria",icon:"\uD83C\uDFE0"}].map(e=>(0,s.jsxs)("label",{className:"relative flex flex-col items-center p-2 border-2 rounded-lg cursor-pointer transition-colors ".concat(Z===e.value?"border-white bg-white/20":"border-white/30 bg-white/10 hover:border-white/50 hover:bg-white/15"),children:[(0,s.jsx)("input",{type:"radio",value:e.value,...E("category"),className:"sr-only"}),(0,s.jsx)("span",{className:"text-xl mb-1",children:e.icon}),(0,s.jsx)("span",{className:"text-xs font-medium text-black",children:e.label})]},e.value))}),B.category&&(0,s.jsx)("p",{className:"text-red-600 text-xs mb-3",children:B.category.message}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Tytuł aukcji *"}),(0,s.jsx)("input",{type:"text",...E("title"),className:"w-full px-3 py-2 bg-white/50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400 text-black placeholder-gray-500"}),B.title&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:B.title.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Lokalizacja *"}),(0,s.jsx)(o,{value:I("location")||"",onChange:e=>{L("location",e)},onLocationSelect:e=>{K(e)},error:null==(t=B.location)?void 0:t.message})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Opis *"}),(0,s.jsx)("textarea",{...E("description"),rows:2,className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"}),B.description&&(0,s.jsx)("p",{className:"text-red-600 text-xs mt-1",children:B.description.message})]}),"Pigeon"===Z&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Numer obrączki"}),(0,s.jsx)("input",{type:"text",...E("ringNumber"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Linia krwi"}),(0,s.jsx)("input",{type:"text",...E("bloodline"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Płeć"}),(0,s.jsxs)("select",{...E("sex"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,s.jsx)("option",{value:"",children:"Wybierz"}),(0,s.jsx)("option",{value:"male",children:"Samiec"}),(0,s.jsx)("option",{value:"female",children:"Samica"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Kolor oczu"}),(0,s.jsxs)("select",{...E("eyeColor"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,s.jsx)("option",{value:"",children:"Wybierz"}),(0,s.jsx)("option",{value:"yellow",children:"Ż\xf3łte"}),(0,s.jsx)("option",{value:"red",children:"Czerwone"}),(0,s.jsx)("option",{value:"glass",children:"Szklane"}),(0,s.jsx)("option",{value:"mixed",children:"Mieszane"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Kolor upierzenia"}),(0,s.jsxs)("select",{...E("featherColor"),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,s.jsx)("option",{value:"",children:"Wybierz"}),(0,s.jsx)("option",{value:"speckled",children:"Nakrapiany"}),(0,s.jsx)("option",{value:"blue",children:"Niebieski"}),(0,s.jsx)("option",{value:"blue_white_flight",children:"Niebieski białolot"}),(0,s.jsx)("option",{value:"speckled_white_flight",children:"Nakrapiany białolot"}),(0,s.jsx)("option",{value:"red",children:"Czerwony"}),(0,s.jsx)("option",{value:"dun",children:"Płowy"}),(0,s.jsx)("option",{value:"dark",children:"Ciemny"}),(0,s.jsx)("option",{value:"mottled",children:"Pstry"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Czas trwania aukcji"}),(0,s.jsxs)("select",{...E("duration",{valueAsNumber:!0}),className:"w-full px-2 py-1 text-sm bg-white/50 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",children:[(0,s.jsx)("option",{value:1,children:"1 dzień"}),(0,s.jsx)("option",{value:3,children:"3 dni"}),(0,s.jsx)("option",{value:7,children:"7 dni"}),(0,s.jsx)("option",{value:14,children:"14 dni"}),(0,s.jsx)("option",{value:30,children:"30 dni"})]})]})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-black mb-1",children:"Przeznaczenie"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-1",children:["Kr\xf3tki dystans","Średni dystans","Długi dystans"].map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-1 text-black text-xs",children:[(0,s.jsx)("input",{type:"checkbox",value:e,...E("purpose"),className:"rounded border-gray-300 bg-white/50 text-black focus:ring-gray-400"}),(0,s.jsx)("span",{children:e})]},e))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:F,onChange:e=>R(e.target.checked),className:"text-gray-600 focus:ring-gray-500",title:"Zaznacz aby włączyć licytację"}),(0,s.jsx)("label",{className:"text-xs font-medium text-black",children:"Cena wywoławcza (zł)"})]}),(0,s.jsx)("input",{type:"number",...E("startingPrice",{valueAsNumber:!0}),disabled:!F,className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500 ".concat(F?"bg-white/50":"bg-gray-200")}),B.startingPrice&&(0,s.jsx)("p",{className:"text-red-600 text-xs mt-1",children:B.startingPrice.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:W,onChange:e=>M(e.target.checked),className:"text-gray-600 focus:ring-gray-500",title:"Zaznacz aby włączyć opcję Kup teraz"}),(0,s.jsx)("label",{className:"text-xs font-medium text-black",children:"Cena Kup teraz (zł)"})]}),(0,s.jsx)("input",{type:"number",...E("buyNowPrice",{valueAsNumber:!0}),disabled:!W,className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 text-black placeholder-gray-500 ".concat(W?"bg-white/50":"bg-gray-200")}),B.buyNowPrice&&(0,s.jsx)("p",{className:"text-red-600 text-xs mt-1",children:B.buyNowPrice.message})]})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Pliki *"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Zdjęcia i filmy *"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{...V(),className:"border border-dashed rounded p-2 text-center cursor-pointer transition-colors ".concat(J?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"),children:[(0,s.jsx)("input",{...q()}),(0,s.jsx)(x.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,s.jsx)("p",{className:"text-xs text-black",children:"Zdjęcia"}),(0,s.jsxs)("p",{className:"text-xs text-black/60",children:["(",k.length,"/8)"]})]}),(0,s.jsxs)("div",{...H(),className:"border border-dashed rounded p-2 text-center cursor-pointer transition-colors ".concat(X?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"),children:[(0,s.jsx)("input",{...Q()}),(0,s.jsx)(m.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,s.jsx)("p",{className:"text-xs text-black",children:"Filmy"}),(0,s.jsxs)("p",{className:"text-xs text-black/60",children:["(",P.length,"/3)"]})]})]}),k.length>0&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("div",{className:"space-y-1",children:k.map(e=>(0,s.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>ea(e.preview),title:"Kliknij aby powiększyć",children:(0,s.jsx)(p.default,{src:e.preview,alt:"Preview",width:100,height:100,className:"w-full h-full object-cover"})}),(0,s.jsx)("span",{className:"text-xs text-black truncate flex-1",children:e.file.name}),(0,s.jsx)("button",{onClick:()=>{var t;return t=e.id,void z(e=>e.filter(e=>e.id!==t))},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,s.jsx)(l.A,{className:"w-2 h-2"})})]},e.id))})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-sm font-medium text-black mb-2",children:"Rodow\xf3d *"}),"Pigeon"===Z&&(0,s.jsxs)("div",{...$(),className:"border border-dashed rounded p-2 text-center cursor-pointer transition-colors ".concat(et?"border-gray-400 bg-white/70":"border-gray-300 bg-white/50 hover:border-gray-400 hover:bg-white/60"),children:[(0,s.jsx)("input",{...ee()}),(0,s.jsx)(h.A,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),(0,s.jsx)("p",{className:"text-xs text-black",children:"Rodow\xf3d"}),(0,s.jsxs)("p",{className:"text-xs text-black/60",children:["(",S.length,"/2)"]})]}),S.length>0&&"Pigeon"===Z&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("div",{className:"space-y-1",children:S.map(e=>(0,s.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex-shrink-0 ".concat("image"===e.type?"cursor-pointer hover:opacity-80 transition-opacity":""),onClick:"image"===e.type?()=>ea(e.preview):void 0,title:"image"===e.type?"Kliknij aby powiększyć":void 0,children:"image"===e.type?(0,s.jsx)(p.default,{src:e.preview,alt:"Preview",width:100,height:100,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"PDF"})})}),(0,s.jsx)("span",{className:"text-xs text-black truncate flex-1",children:e.file.name}),(0,s.jsx)("button",{onClick:()=>{var t;return t=e.id,void A(e=>e.filter(e=>e.id!==t))},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,s.jsx)(l.A,{className:"w-2 h-2"})})]},e.id))})})]})]}),P.length>0&&(0,s.jsx)("div",{className:"mt-3 space-y-2",children:P.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-black/60 mb-1",children:"Filmy:"}),(0,s.jsx)("div",{className:"space-y-1",children:P.map(e=>(0,s.jsxs)("div",{className:"relative group flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 relative rounded overflow-hidden bg-gray-100 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(m.A,{className:"w-4 h-4 text-gray-500"})}),(0,s.jsx)("span",{className:"text-xs text-black truncate flex-1",children:e.file.name}),(0,s.jsx)("button",{onClick:()=>{var t;return t=e.id,void C(e=>e.filter(e=>e.id!==t))},className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",title:"Usuń",children:(0,s.jsx)(l.A,{className:"w-2 h-2"})})]},e.id))})]})})]}),(0,s.jsx)("div",{className:"flex justify-end mt-8 pt-6 border-t border-white/20",children:(0,s.jsx)("button",{type:"submit",disabled:D,className:"flex items-center gap-2 px-8 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:D?"Publikuję...":"Opublikuj aukcję"})})]}),_&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:es,children:(0,s.jsxs)("div",{className:"relative max-w-4xl max-h-4xl p-4",children:[(0,s.jsx)("button",{onClick:es,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center z-10",title:"Zamknij",children:(0,s.jsx)(l.A,{className:"w-4 h-4"})}),(0,s.jsx)(p.default,{src:_,alt:"Podgląd",width:800,height:600,className:"max-w-full max-h-full object-contain rounded-lg",onClick:e=>e.stopPropagation()})]})})]}):(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:(0,s.jsxs)("p",{className:"text-xs text-red-700",children:["Musisz być zalogowany, aby utworzyć aukcję.",(0,s.jsx)(g(),{href:"/auth/signin",className:"font-medium underline text-red-800 hover:text-red-900 ml-2",children:"Zaloguj się"})]})})}},5363:(e,t,a)=>{a.d(t,{UnifiedLayout:()=>f});var s=a(5155),i=a(3155),l=a(7161),r=a(7378),n=a(3664),o=a(2619),c=a.n(o);let d={company:[{name:"O nas",href:"/about"},{name:"Nasze Osiągnięcia",href:"/achievements"},{name:"Kontakt",href:"/contact"}],services:[{name:"Aukcje",href:"/auctions"},{name:"Championy",href:"/champions"},{name:"Referencje",href:"/references"}],legal:[{name:"Regulamin",href:"/terms"},{name:"Polityka Prywatności",href:"/privacy"},{name:"Warunki Sprzedaży",href:"/sales-terms"}]},x=[{name:"Facebook",href:"https://www.facebook.com/PalkaGolebiepl/?locale=pl_PL",icon:i.A},{name:"Instagram",href:"#",icon:l.A},{name:"Twitter",href:"#",icon:r.A}];function m(){return(0,s.jsx)("footer",{className:"bg-gray-800/30 backdrop-blur-sm border-t border-white/20 text-white",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-sm",children:"GP"})}),(0,s.jsx)("span",{className:"font-display font-bold text-xl",children:"MTM Pałka"})]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed max-w-lg",children:"Witamy w świecie MTM Pałka – hodowli gołębi pocztowych, kt\xf3rej fundamentem jest historia trzech pokoleń, a siłą napędową bezgraniczna miłość do lotu. W sercu Dolnego Śląska, pod niebem Lubania, od ponad czterdziestu pięciu lat piszemy sagę, w kt\xf3rej precyzja genetyki łączy się z siłą rodzinnych więzi. Nasza nazwa to symbol jedności – Mariusz, Tadeusz, Marcin Pałka – ojciec i synowie, kt\xf3rych połączyła wsp\xf3lna pasja."}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-gray-400 mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.A,{className:"w-4 h-4 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-sm",children:"kontakt@golebiepocztowe.pl"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm",children:"Szczeg\xf3łowe dane na stronie"}),(0,s.jsx)("a",{href:"/contact",className:"text-white/60 hover:text-white/80 transition-colors underline text-sm",children:"Kontakt"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-6 lg:gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-sm mb-2 text-white",children:"Firma"}),(0,s.jsx)("ul",{className:"space-y-1",children:d.company.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(c(),{href:e.href,className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",children:e.name})},e.name))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-sm mb-2 text-white",children:"Usługi"}),(0,s.jsx)("ul",{className:"space-y-1",children:d.services.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(c(),{href:e.href,className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",children:e.name})},e.name))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-sm mb-2 text-white",children:"Prawne"}),(0,s.jsx)("ul",{className:"space-y-1",children:d.legal.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(c(),{href:e.href,className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",children:e.name})},e.name))})]})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-800 mt-4 pt-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0",children:[(0,s.jsx)("p",{className:"text-gray-400 text-xs text-center sm:text-left",children:"\xa9 2024 MTM Pałka. Wszystkie prawa zastrzeżone."}),(0,s.jsx)("div",{className:"flex items-center space-x-3",children:x.map(e=>(0,s.jsx)(c(),{href:e.href,className:"text-gray-400 hover:text-white transition-colors duration-200","aria-label":e.name,children:(0,s.jsx)(e.icon,{className:"w-4 h-4"})},e.name))})]})})]})})}var h=a(5947),u=a(5239);function p(){return(0,s.jsx)(h.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:2.5,delay:.8},className:"relative z-60",children:(0,s.jsx)(c(),{href:"/",children:(0,s.jsx)(h.P.div,{className:"relative",children:(0,s.jsx)(u.default,{src:"/logo.png",alt:"Pałka M.T.M. Mistrzowie Sprintu",width:240,height:240,className:"h-60 w-auto object-contain cursor-pointer brightness-125 contrast-125 drop-shadow-[0_20px_40px_rgba(255,255,255,0.6)] drop-shadow-[0_30px_60px_rgba(255,255,255,0.4)]",style:{width:"auto",height:"auto"}})})})})}let b=[{href:"/",icon:"fas fa-home",title:"Strona Gł\xf3wna",label:"Strona Gł\xf3wna"},{href:"/auctions",icon:"fas fa-gavel",title:"Aukcje",label:"Aukcje"},{href:"/achievements",icon:"fas fa-crown",title:"Nasze Osiągnięcia",label:"Osiągnięcia"},{href:"/champions",icon:"fas fa-trophy",title:"Championy",label:"Championy"},{href:"/breeder-meetings",icon:"fas fa-users",title:"Spotkania",label:"Spotkania"},{href:"/references",icon:"fas fa-star",title:"Referencje",label:"Referencje"},{href:"/press",icon:"fas fa-newspaper",title:"Prasa",label:"Prasa"},{href:"/about",icon:"fas fa-info-circle",title:"O nas",label:"O Nas"},{href:"/contact",icon:"fas fa-envelope",title:"Kontakt",label:"Kontakt"},{href:"/dashboard",icon:"fas fa-tachometer-alt",title:"Panel Użytkownika",label:"Panel Użytkownika"}],g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.04,delayChildren:.05}}},j={hidden:{opacity:0,x:-50,rotate:-90},visible:{opacity:1,x:0,rotate:0,transition:{duration:1.5,ease:"easeOut"}}};function f(e){let{children:t,showNavigation:a=!0,showFooter:i=!0,className:l=""}=e;return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-900/50 ".concat(l),children:[(0,s.jsxs)("main",{className:"flex-grow relative",children:[(0,s.jsx)(p,{}),a&&(0,s.jsx)("nav",{className:"absolute top-8 left-80 z-[1001] pointer-events-auto",children:(0,s.jsx)(h.P.div,{className:"flex items-center gap-3",variants:g,initial:"hidden",animate:"visible",children:b.map(e=>(0,s.jsx)(h.P.div,{variants:j,children:(0,s.jsxs)(c(),{href:e.href,className:"glass-nav-button",title:e.title,onClick:()=>console.log("Clicked:",e.href),children:[(0,s.jsx)("i",{className:"".concat(e.icon," relative z-10 text-3xl")}),(0,s.jsx)("span",{className:"relative z-10 text-sm",children:e.label})]})},e.href))})}),(0,s.jsx)("div",{className:"relative z-10",children:t})]}),i&&(0,s.jsx)(m,{})]})}}}]);