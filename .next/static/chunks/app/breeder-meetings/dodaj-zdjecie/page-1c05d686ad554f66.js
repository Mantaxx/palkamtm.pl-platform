(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5501],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},195:(e,t,s)=>{Promise.resolve().then(s.bind(s,2512)),Promise.resolve().then(s.bind(s,5363))},919:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1078:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1786:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2196:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},2512:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var a=s(5155),i=s(7125),r=s(7816),l=s(1078),d=s(5664),n=s(1786),c=s(5229),o=s(6489),h=s(63),u=s(2115);function m(){let{data:e,status:t}=(0,o.useSession)(),s=(0,h.useRouter)(),[m,x]=(0,u.useState)({title:"",description:"",location:"",date:"",images:[]}),[p,b]=(0,u.useState)(!1),[g,y]=(0,u.useState)("idle"),[j,w]=(0,u.useState)(""),[f,k]=(0,u.useState)([]),N=async e=>{e.preventDefault(),b(!0),y("idle"),w("");try{let e=new FormData;e.append("title",m.title),e.append("description",m.description),e.append("location",m.location),e.append("date",m.date),m.images.forEach(t=>{e.append("images",t)});let t=await fetch("/api/breeder-meetings",{method:"POST",body:e});if(t.ok)y("success"),x({title:"",description:"",location:"",date:"",images:[]}),k([]),setTimeout(()=>{s.push("/breeder-meetings")},2e3);else{let e=await t.json();y("error"),w(e.error||"Wystąpił błąd podczas dodawania spotkania")}}catch(e){y("error"),w("Wystąpił błąd podczas wysyłania formularza")}finally{b(!1)}};return"loading"===t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-center border-2 border-white",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg text-white",children:"Sprawdzanie autoryzacji..."})]})}):(0,a.jsx)("div",{className:"min-h-screen py-12 px-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto bg-white/10 backdrop-blur-sm rounded-2xl p-8 border-2 border-white",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4 text-white",children:"Dodaj Zdjęcia ze Spotkania"}),(0,a.jsx)("p",{className:"text-white/80 text-lg",children:"Podziel się zdjęciami z naszych spotkań z hodowcami"})]}),e?(0,a.jsxs)(a.Fragment,{children:["success"===g&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg flex items-center",children:[(0,a.jsx)(r.A,{className:"w-5 h-5 text-green-400 mr-3"}),(0,a.jsx)("span",{className:"text-green-400",children:"Spotkanie zostało dodane pomyślnie! Przekierowujemy..."})]}),"error"===g&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg flex items-center",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 text-red-400 mr-3"}),(0,a.jsx)("span",{className:"text-red-400",children:j})]}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Tytuł spotkania *"}),(0,a.jsx)("input",{type:"text",value:m.title,onChange:e=>x(t=>({...t,title:e.target.value})),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"np. Spotkanie w Lubaniu 2024",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Data spotkania *"}),(0,a.jsx)("input",{type:"date",value:m.date,onChange:e=>x(t=>({...t,date:e.target.value})),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",title:"Wybierz datę spotkania",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Lokalizacja *"}),(0,a.jsx)("input",{type:"text",value:m.location,onChange:e=>x(t=>({...t,location:e.target.value})),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Gdzie odbyło się spotkanie?",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Opis spotkania"}),(0,a.jsx)("textarea",{value:m.description,onChange:e=>x(t=>({...t,description:e.target.value})),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 h-24 resize-none",placeholder:"Opisz przebieg spotkania, uczestnik\xf3w, tematy rozm\xf3w...",rows:4})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Zdjęcia ze spotkania *"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-white/30 rounded-lg p-6 text-center",children:[(0,a.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);x(e=>({...e,images:t})),k(t.map(e=>URL.createObjectURL(e)))}},className:"hidden",id:"image-upload",required:!0}),(0,a.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"w-8 h-8 text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Kliknij aby wybrać zdjęcia"}),(0,a.jsx)("p",{className:"text-white/60 text-sm",children:"lub przeciągnij i upuść"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-blue-400",children:[(0,a.jsx)(n.A,{className:"w-4 h-4"})," ",(0,a.jsx)("span",{className:"text-sm",children:"Wybierz pliki"})]})]})]}),f.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("p",{className:"text-white/70 text-sm mb-3",children:["Wybrano ",f.length," zdjęć"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:f.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(i.pH,{src:e,alt:"Podgląd ".concat(t+1),width:96,height:96,fitMode:"contain",aspectRatio:"square",className:"w-full h-24 rounded-lg"}),(0,a.jsx)("button",{type:"button",onClick:()=>(e=>{let t=m.images.filter((t,s)=>s!==e),s=f.filter((t,s)=>s!==e);x(e=>({...e,images:t})),k(s)})(t),title:"Usuń zdjęcie",className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"w-4 h-4"})})]},t))})]})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)("button",{type:"submit",disabled:p,className:"w-full px-6 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Dodawanie..."]}):(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 mr-2"}),"Dodaj Spotkanie"]})})})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Dołącz do naszej społeczności!"}),(0,a.jsx)("p",{className:"text-white/80 text-lg mb-6 max-w-md mx-auto",children:"Aby dodać zdjęcia ze spotkania, musisz być zalogowanym i zweryfikowanym użytkownikiem."}),(0,a.jsx)("button",{onClick:()=>s.push("/auth/signin?callbackUrl=/breeder-meetings/dodaj-zdjecie"),className:"px-6 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200",children:"Zaloguj się lub Zarejestruj"})]})]})})}},3155:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},3664:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5229:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5664:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},7161:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},7378:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},7816:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(5105).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}},e=>{e.O(0,[6635,5481,6489,6783,8441,1255,7358],()=>e(e.s=195)),_N_E=e.O()}]);